<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HEALTH OF BRITAIN — Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600&family=IBM+Plex+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
:root {
  --bg:       #0a0c0f;
  --bg2:      #0f1318;
  --card:     #131820;
  --card2:    #171f2a;
  --border:   #1e2a38;
  --border2:  #2a3f56;
  --green:    #00d084;
  --red:      #ff4757;
  --amber:    #ffa502;
  --blue:     #00b8d9;
  --tp:       #e8edf2;
  --ts:       #7a8fa6;
  --td:       #4a5f75;
  --mono:     'IBM Plex Mono', monospace;
  --sans:     'IBM Plex Sans', sans-serif;
}
*{margin:0;padding:0;box-sizing:border-box}
body{background:var(--bg);color:var(--tp);font-family:var(--sans);min-height:100vh;overflow-x:hidden;padding-bottom:20px}
body::before{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.03) 2px,rgba(0,0,0,.03) 4px);pointer-events:none;z-index:1000}

/* HEADER */
.hdr{background:var(--bg2);border-bottom:1px solid var(--border);padding:0 24px;display:flex;align-items:center;justify-content:space-between;height:56px;position:sticky;top:0;z-index:200}
.hdr-logo{font-family:var(--mono);font-size:15px;font-weight:600;letter-spacing:.15em;color:var(--blue);text-transform:uppercase}
.hdr-div{width:1px;height:24px;background:var(--border);margin:0 16px}
.hdr-sub{font-family:var(--mono);font-size:12px;color:var(--td);letter-spacing:.1em;text-transform:uppercase}
.live-dot{width:6px;height:6px;border-radius:50%;background:var(--green);animation:pulse 2s infinite}
.live-dot.loading{background:var(--amber)}
.live-dot.err{background:var(--red);animation:none}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
#live-status,#last-updated{font-family:var(--mono);font-size:10px;color:var(--td)}
.hdr-right{display:flex;align-items:center;gap:16px}
.live-wrap{display:flex;align-items:center;gap:6px}

/* NAV */
.nav{background:var(--bg2);border-bottom:1px solid var(--border);padding:0 24px;display:flex;position:sticky;top:56px;z-index:190}
.tab{font-family:var(--mono);font-size:13px;letter-spacing:.1em;text-transform:uppercase;color:var(--td);padding:12px 18px;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s;user-select:none}
.tab:hover{color:var(--ts)}
.tab.active{color:var(--blue);border-bottom-color:var(--blue)}

/* MAIN */
.main{padding:20px 24px;max-width:1800px;margin:0 auto}
.section{display:none}.section.active{display:block}

/* SECTION HEADER */
.sh{font-family:var(--mono);font-size:12px;letter-spacing:.2em;color:var(--td);text-transform:uppercase;margin-bottom:14px;padding-bottom:8px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px}
.sh::before{content:'//';color:var(--blue)}
.mb{margin-bottom:16px}

/* GRIDS */
.g2{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.g3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.g4{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
@media(max-width:1200px){.g4{grid-template-columns:repeat(2,1fr)}.g3{grid-template-columns:repeat(2,1fr)}}
@media(max-width:700px){.g2,.g3,.g4{grid-template-columns:1fr}}

/* ============================================================
   INTERACTIVE INDICATOR CARD — used on every tab
============================================================ */
.ic-grid{display:grid;gap:10px}
.ic-grid.cols-4{grid-template-columns:repeat(4,1fr)}
.ic-grid.cols-3{grid-template-columns:repeat(3,1fr)}
.ic-grid.cols-2{grid-template-columns:repeat(2,1fr)}
@media(max-width:1200px){.ic-grid.cols-4{grid-template-columns:repeat(2,1fr)}}
@media(max-width:700px){.ic-grid.cols-4,.ic-grid.cols-3,.ic-grid.cols-2{grid-template-columns:1fr}}

.ic{background:var(--card);border:1px solid var(--border);border-radius:4px;padding:15px 14px 11px;cursor:pointer;transition:border-color .2s,background .2s,box-shadow .2s;position:relative;user-select:none;display:flex;flex-direction:column}
.ic::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border2),transparent)}
.ic:hover{border-color:var(--border2);background:var(--card2)}
.ic.active{border-color:var(--blue);background:rgba(0,184,217,.05);box-shadow:0 0 0 1px rgba(0,184,217,.12)}
.ic.active .ic-arrow{color:var(--blue);transform:rotate(180deg)}

.ic-label{font-family:var(--mono);font-size:11px;letter-spacing:.18em;text-transform:uppercase;color:var(--td);margin-bottom:9px}
.ic-val{font-family:var(--mono);font-size:28px;font-weight:600;line-height:1;margin-bottom:6px;color:var(--tp)}
.ic-val.blue{color:var(--blue)}.ic-val.green{color:var(--green)}.ic-val.red{color:var(--red)}.ic-val.amber{color:var(--amber)}
.ic-meta{display:flex;align-items:center;gap:6px;flex-wrap:wrap}
.ic-date{font-family:var(--mono);font-size:11px;color:var(--td)}
.ic-hint{font-family:var(--mono);font-size:10px;letter-spacing:.07em;color:var(--td);opacity:.55;margin-top:7px;border-top:1px solid rgba(30,42,56,.6);padding-top:6px}
.ic-arrow{font-size:9px;color:var(--td);text-align:right;transition:transform .3s,color .2s;margin-top:auto;padding-top:6px}

/* CHANGE BADGE */
.chg{font-family:var(--mono);font-size:12px;padding:2px 6px;border-radius:2px}
.chg.up{background:rgba(0,208,132,.12);color:var(--green)}
.chg.dn{background:rgba(255,71,87,.12);color:var(--red)}
.chg.neu{background:rgba(122,143,166,.1);color:var(--ts)}

/* EXPAND PANEL */
.ep{background:#0d1520;border:1px solid var(--blue);border-radius:4px;overflow:hidden;max-height:0;opacity:0;transition:max-height .45s cubic-bezier(.4,0,.2,1),opacity .3s ease;margin-bottom:0;box-shadow:0 0 30px rgba(0,184,217,.05)}
.ep.open{max-height:620px;opacity:1;margin-bottom:16px}
.ep-hdr{display:flex;justify-content:space-between;align-items:center;padding:13px 18px 11px;border-bottom:1px solid rgba(0,184,217,.15);background:rgba(0,184,217,.04);flex-wrap:wrap;gap:8px}
.ep-title{font-family:var(--mono);font-size:13px;font-weight:600;letter-spacing:.12em;text-transform:uppercase;color:var(--blue)}
.ep-sub{font-family:var(--mono);font-size:11px;color:var(--td);margin-top:3px}
.ep-controls{display:flex;align-items:center;gap:10px}
.ep-ranges{display:flex;gap:4px}
.rng-btn{background:transparent;border:1px solid var(--border);color:var(--td);font-family:var(--mono);font-size:9px;letter-spacing:.08em;padding:4px 10px;border-radius:2px;cursor:pointer;transition:all .15s}
.rng-btn:hover{border-color:var(--border2);color:var(--ts)}
.rng-btn.active{background:rgba(0,184,217,.12);border-color:var(--blue);color:var(--blue)}
.close-btn{background:transparent;border:1px solid var(--border);color:var(--td);font-family:var(--mono);font-size:9px;letter-spacing:.08em;padding:4px 12px;border-radius:2px;cursor:pointer;transition:all .15s}
.close-btn:hover{border-color:var(--red);color:var(--red)}

.ep-charts{display:flex;gap:0;padding:14px 18px}
.ep-cb{padding:0 12px}
.ep-cb:first-child{padding-left:0;border-right:1px solid var(--border);padding-right:18px;margin-right:6px;flex:0 0 220px}
.ep-cb:last-child{flex:1}
.ep-clabel{font-family:var(--mono);font-size:10px;letter-spacing:.15em;text-transform:uppercase;color:var(--td);margin-bottom:9px}

.ep-stats{display:flex;gap:0;padding:12px 18px 14px;border-top:1px solid rgba(30,42,56,.5)}
.ep-stat{flex:1;border-right:1px solid var(--border);padding:0 14px;text-align:center}
.ep-stat:first-child{padding-left:0;text-align:left}
.ep-stat:last-child{border-right:none}
.ep-stat-l{font-family:var(--mono);font-size:10px;letter-spacing:.12em;text-transform:uppercase;color:var(--td);margin-bottom:3px}
.ep-stat-v{font-family:var(--mono);font-size:15px;font-weight:600;color:var(--tp)}
.ep-stat-v.green{color:var(--green)}.ep-stat-v.red{color:var(--red)}.ep-stat-v.amber{color:var(--amber)}.ep-stat-v.blue{color:var(--blue)}

/* PLACEHOLDER */
.ph{background:var(--card);border:1px dashed var(--border);border-radius:4px;padding:22px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;min-height:110px}
.ph-icon{font-size:22px;margin-bottom:8px;opacity:.35}
.ph-title{font-family:var(--mono);font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--td);margin-bottom:5px}
.ph-desc{font-family:var(--sans);font-size:11px;color:var(--td);opacity:.65}
.ph-badge{margin-top:9px;font-family:var(--mono);font-size:8px;letter-spacing:.1em;padding:3px 8px;border-radius:2px;background:rgba(255,165,2,.1);color:var(--amber);text-transform:uppercase}
.refreshed-badge{display:inline-block;margin-top:7px;font-family:var(--mono);font-size:8px;letter-spacing:.08em;padding:2px 7px;border-radius:2px;background:rgba(0,184,217,.07);color:var(--td);border:1px solid rgba(0,184,217,.15);text-transform:uppercase}

/* POLL BAR */
.poll-bar{display:flex;height:32px;border-radius:3px;overflow:hidden;gap:2px;margin:10px 0}
.poll-seg{display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:9px;font-weight:600;transition:width .8s ease;letter-spacing:.05em}
.poll-legend{display:flex;flex-wrap:wrap;gap:12px;margin-top:10px}
.poll-legend-item{display:flex;align-items:center;gap:6px;font-family:var(--mono);font-size:10px;color:var(--ts)}
.poll-dot{width:8px;height:8px;border-radius:1px}

/* STATUS BAR */
.sb{background:var(--bg2);border-top:1px solid var(--border);padding:5px 24px;display:flex;align-items:center;justify-content:space-between;position:fixed;bottom:0;left:0;right:0;z-index:200}
.sb-items{display:flex;gap:18px;align-items:center}
.sb-item{font-family:var(--mono);font-size:9px;color:var(--td)}
.s-ok{color:var(--green)}.s-warn{color:var(--amber)}.s-err{color:var(--red)}

/* CHART CARD (for non-interactive charts that remain) */
.cc{background:var(--card);border:1px solid var(--border);border-radius:4px;padding:16px;position:relative}
.cc::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border2),transparent)}
.cc-title{font-family:var(--mono);font-size:11px;letter-spacing:.18em;text-transform:uppercase;color:var(--td);margin-bottom:4px}
.cc-period{font-family:var(--mono);font-size:9px;color:var(--td);opacity:.6;margin-bottom:12px}
.cc-val{font-family:var(--mono);font-size:18px;font-weight:600;color:var(--tp)}

/* MIGRATION FLOW */
.mig-flow{display:flex;align-items:center;gap:12px;margin-top:12px}
.mig-box{flex:1;padding:12px;background:rgba(255,255,255,.02);border-radius:3px;border:1px solid var(--border);text-align:center}
.mig-lbl{font-family:var(--mono);font-size:9px;color:var(--td);letter-spacing:.12em;text-transform:uppercase;margin-bottom:8px}
.mig-val{font-family:var(--mono);font-size:26px;font-weight:600}
.mig-note{font-family:var(--mono);font-size:9px;color:var(--td);margin-top:4px}
.mig-arrow{font-size:22px;color:var(--td);text-align:center}
</style>
</head>
<body>

<header class="hdr">
  <div style="display:flex;align-items:center">
    <span class="hdr-logo">⬡ Health of Britain</span>
    <div class="hdr-div"></div>
    <span class="hdr-sub">Economic &amp; Social Intelligence Dashboard</span>
  </div>
  <div class="hdr-right">
    <div class="live-wrap"><div class="live-dot loading" id="live-dot"></div><span id="live-status">LOADING</span></div>
    <span id="last-updated">—</span>
  </div>
</header>

<nav class="nav">
  <div class="tab active" onclick="switchTab('overview',this)">Overview</div>
  <div class="tab" onclick="switchTab('economic',this)">Economic</div>
  <div class="tab" onclick="switchTab('consumer',this)">Consumer Health</div>
  <div class="tab" onclick="switchTab('fiscal',this)">Fiscal &amp; Trade</div>
  <div class="tab" onclick="switchTab('social',this)">Social</div>
  <div class="tab" onclick="switchTab('politics',this)">Politics</div>
  <div class="tab" onclick="switchTab('demographics',this)">Demographics</div>
</nav>

<main class="main">

<!-- ================================================================
     OVERVIEW
================================================================ -->
<section id="tab-overview" class="section active">
  <div class="sh mb">Overview — Click Any Indicator To Expand Its Trend</div>

  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-cpi" onclick="expand('cpi',this)">
      <div class="ic-label">CPI Inflation</div>
      <div class="ic-val" id="v-cpi">—</div>
      <div class="ic-meta"><span id="chg-cpi" class="chg neu">—</span><span id="d-cpi" class="ic-date">—</span></div>
      <div class="ic-hint">12-month rate · ONS MM23</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-boe" onclick="expand('boe',this)">
      <div class="ic-label">BoE Base Rate</div>
      <div class="ic-val blue" id="v-boe">—</div>
      <div class="ic-meta"><span class="ic-date">Bank of England</span></div>
      <div class="ic-hint">Official Bank Rate · Current</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-unemp" onclick="expand('unemp',this)">
      <div class="ic-label">Unemployment Rate</div>
      <div class="ic-val" id="v-unemp">—</div>
      <div class="ic-meta"><span id="chg-unemp" class="chg neu">—</span><span id="d-unemp" class="ic-date">—</span></div>
      <div class="ic-hint">16+ ILO definition · ONS LFS</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-gdp" onclick="expand('gdp',this)">
      <div class="ic-label">GDP Growth</div>
      <div class="ic-val" id="v-gdp">—</div>
      <div class="ic-meta"><span id="d-gdp" class="ic-date">—</span></div>
      <div class="ic-hint">Quarter-on-quarter · ONS QNA</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-gilt10" onclick="expand('gilt10',this)">
      <div class="ic-label">10-Year Gilt Yield</div>
      <div class="ic-val blue" id="v-gilt10">—</div>
      <div class="ic-meta"><span class="ic-date">UK Sovereign Bond</span></div>
      <div class="ic-hint">Benchmark long-dated rate · BoE</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-gilt30" onclick="expand('gilt30',this)">
      <div class="ic-label">30-Year Gilt Yield</div>
      <div class="ic-val blue" id="v-gilt30">—</div>
      <div class="ic-meta"><span class="ic-date">UK Sovereign Bond</span></div>
      <div class="ic-hint">Long-dated sovereign debt cost · BoE</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-youth" onclick="expand('youth',this)">
      <div class="ic-label">Youth Unemployment</div>
      <div class="ic-val" id="v-youth">—</div>
      <div class="ic-meta"><span id="d-youth" class="ic-date">—</span></div>
      <div class="ic-hint">16–24 age group · ONS LFS</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-neet" onclick="expand('neet',this)">
      <div class="ic-label">NEET Rate (16–24)</div>
      <div class="ic-val" id="v-neet">—</div>
      <div class="ic-meta"><span class="ic-date">Not in Ed, Employment or Training</span></div>
      <div class="ic-hint">Quarterly estimate · ONS</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>

  <div class="ep" id="ep-overview"></div>

  <div class="ic-grid cols-3 mb">
    <div class="ic" id="icc-currentaccount" onclick="expand('currentaccount',this)">
      <div class="ic-label">Current Account Balance</div>
      <div class="ic-val red" id="v-currentaccount">—</div>
      <div class="ic-hint">% of GDP · ONS BoP</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-migration" onclick="expand('migration',this)">
      <div class="ic-label">Net Migration (Annual)</div>
      <div class="ic-val amber" id="v-migration">—</div>
      <div class="ic-hint">ONS International Migration</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-debt" onclick="expand('debt',this)">
      <div class="ic-label">Public Sector Net Debt</div>
      <div class="ic-val red" id="v-debt">—</div>
      <div class="ic-hint">% of GDP · ONS PSF</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
</section>

<!-- ================================================================
     ECONOMIC
================================================================ -->
<section id="tab-economic" class="section">
  <div class="sh mb">Inflation Metrics — Click Any Card To Expand</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-cpi12" onclick="expand('cpi12',this)">
      <div class="ic-label">CPI — 12-Month Rate</div>
      <div class="ic-val" id="v-cpi12">—</div>
      <div class="ic-meta"><span id="chg-cpi12" class="chg neu">—</span><span id="d-cpi12" class="ic-date">—</span></div>
      <div class="ic-hint">ONS MM23 · Target 2.0%</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-cpimom" onclick="expand('cpimom',this)">
      <div class="ic-label">CPI — Month on Month</div>
      <div class="ic-val" id="v-cpimom">—</div>
      <div class="ic-meta"><span id="d-cpimom" class="ic-date">—</span></div>
      <div class="ic-hint">Month-on-month change · ONS</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-cpih" onclick="expand('cpih',this)">
      <div class="ic-label">CPIH (incl. Housing)</div>
      <div class="ic-val" id="v-cpih">—</div>
      <div class="ic-meta"><span id="d-cpih" class="ic-date">—</span></div>
      <div class="ic-hint">Owner occupier costs included · ONS</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-corecpi" onclick="expand('corecpi',this)">
      <div class="ic-label">Core CPI (ex Food &amp; Energy)</div>
      <div class="ic-val" id="v-corecpi">—</div>
      <div class="ic-meta"><span id="d-corecpi" class="ic-date">—</span></div>
      <div class="ic-hint">Underlying inflation · ONS</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-economic-inflation"></div>

  <div class="sh mb">Interest Rates &amp; Gilt Yields</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-boerate" onclick="expand('boerate',this)">
      <div class="ic-label">BoE Base Rate</div>
      <div class="ic-val blue" id="v-boerate">—</div>
      <div class="ic-meta"><span class="ic-date">Bank of England Official Rate</span></div>
      <div class="ic-hint">MPC Decision Rate</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-gilt2" onclick="expand('gilt2',this)">
      <div class="ic-label">2-Year Gilt Yield</div>
      <div class="ic-val blue" id="v-gilt2">—</div>
      <div class="ic-meta"><span class="ic-date">UK Sovereign Bond</span></div>
      <div class="ic-hint">Short-dated gilt · BoE</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-gilt10ec" onclick="expand('gilt10ec',this)">
      <div class="ic-label">10-Year Gilt Yield</div>
      <div class="ic-val blue" id="v-gilt10ec">—</div>
      <div class="ic-meta"><span class="ic-date">Benchmark Bond</span></div>
      <div class="ic-hint">Benchmark sovereign rate · BoE</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-gilt30ec" onclick="expand('gilt30ec',this)">
      <div class="ic-label">30-Year Gilt Yield</div>
      <div class="ic-val blue" id="v-gilt30ec">—</div>
      <div class="ic-meta"><span class="ic-date">Long-Dated Bond</span></div>
      <div class="ic-hint">Long-dated sovereign cost · BoE</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-economic-gilts"></div>

  <div class="sh mb">Mortgage Rates</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-mort2" onclick="expand('mort2',this)">
      <div class="ic-label">2-Year Fixed (75% LTV)</div>
      <div class="ic-val red" id="v-mort2">—</div>
      <div class="ic-meta"><span class="ic-date">BoE Mortgage Data</span></div>
      <div class="ic-hint">Average new mortgage rate</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-mort5" onclick="expand('mort5',this)">
      <div class="ic-label">5-Year Fixed (75% LTV)</div>
      <div class="ic-val amber" id="v-mort5">—</div>
      <div class="ic-meta"><span class="ic-date">BoE Mortgage Data</span></div>
      <div class="ic-hint">Average new mortgage rate</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-svr" onclick="expand('svr',this)">
      <div class="ic-label">SVR (Standard Variable)</div>
      <div class="ic-val red" id="v-svr">—</div>
      <div class="ic-meta"><span class="ic-date">Bank of England</span></div>
      <div class="ic-hint">Lender standard variable rate</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-approvals" onclick="expand('approvals',this)">
      <div class="ic-label">Mortgage Approvals</div>
      <div class="ic-val" id="v-approvals">—</div>
      <div class="ic-meta"><span class="ic-date">Monthly · BoE</span></div>
      <div class="ic-hint">New mortgage approvals monthly</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-economic-mortgages"></div>

  <div class="sh mb">Business &amp; Consumer Sentiment</div>
  <div class="ic-grid cols-3 mb">
    <div class="ic" id="icc-gfk" onclick="expand('gfk',this)">
      <div class="ic-label">GfK Consumer Confidence</div>
      <div class="ic-val red" id="v-gfk">—</div>
      <div class="ic-meta"><span class="ic-date">GfK / ONS Survey</span></div>
      <div class="ic-hint">Index · Negative = pessimistic</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-pmi" onclick="expand('pmi',this)">
      <div class="ic-label">PMI Composite (Flash)</div>
      <div class="ic-val green" id="v-pmi">53.9</div>
      <div class="ic-meta"><span class="ic-date">S&amp;P Global Feb 2026</span></div>
      <div class="ic-hint">Above 50 = expansion · 22-month high</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-bizformation" onclick="expand('bizformation',this)">
      <div class="ic-label">Company Net Formation</div>
      <div class="ic-val red" id="v-bizformation">−18.4k</div>
      <div class="ic-meta"><span class="ic-date">Q3 2025 · Companies House</span></div>
      <div class="ic-hint">Incorporations minus dissolutions · quarterly</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-economic-sentiment"></div>

  <div class="sh mb">Employment</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-unemp2" onclick="expand('unemp2',this)">
      <div class="ic-label">Unemployment Rate</div>
      <div class="ic-val" id="v-unemp2">—</div>
      <div class="ic-meta"><span id="d-unemp2" class="ic-date">—</span></div>
      <div class="ic-hint">16+ ILO · ONS LFS</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-youth2" onclick="expand('youth2',this)">
      <div class="ic-label">Youth Unemployment (16-24)</div>
      <div class="ic-val" id="v-youth2">—</div>
      <div class="ic-meta"><span id="d-youth2" class="ic-date">—</span></div>
      <div class="ic-hint">16–24 ILO · ONS LFS</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-emprate" onclick="expand('emprate',this)">
      <div class="ic-label">Employment Rate</div>
      <div class="ic-val green" id="v-emprate">—</div>
      <div class="ic-meta"><span class="ic-date">16-64 Age Group</span></div>
      <div class="ic-hint">16–64 · ONS LFS</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-inactive" onclick="expand('inactive',this)">
      <div class="ic-label">Economic Inactivity Rate</div>
      <div class="ic-val amber" id="v-inactive">—</div>
      <div class="ic-meta"><span class="ic-date">16-64 Age Group</span></div>
      <div class="ic-hint">Not working, not seeking · ONS LFS</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="sh mb">Bank Lending — Productive vs Financialised Economy</div>

  <!-- Explainer banner -->
  <div style="background:rgba(0,184,217,.04);border:1px solid rgba(0,184,217,.15);border-radius:4px;padding:14px 18px;margin-bottom:14px;font-family:var(--mono);font-size:10px;color:var(--ts);line-height:1.7">
    <span style="color:var(--blue);font-weight:600">// FINANCIALISATION LENS</span> — UK commercial banks create ~97% of new money via lending. Where that credit flows determines whether it builds productive capacity or inflates existing assets. Only <strong style="color:var(--amber)">~16.6%</strong> of total outstanding bank credit currently goes to non-financial businesses (productive economy). The rest finances mortgages (~54%), financial sector activity (~24%), and consumer credit (~5%). Source: Bank of England Bankstats / Positive Money analysis of BoE M4 lending data.
  </div>

  <!-- Donut + breakdown cards -->
  <div style="display:grid;grid-template-columns:260px 1fr;gap:14px;margin-bottom:14px;align-items:start">
    <div class="cc" style="padding:18px">
      <div class="cc-title" style="margin-bottom:12px">Credit Allocation — Outstanding Stock</div>
      <div style="height:200px;position:relative"><canvas id="chart-lending-donut"></canvas></div>
      <div style="margin-top:12px;display:flex;flex-direction:column;gap:5px" id="lending-legend"></div>
    </div>
    <div class="ic-grid cols-2 mb" style="margin-bottom:0">
      <div class="ic" id="icc-lend-productive" onclick="expand('lendproductive',this)">
        <div class="ic-label">Non-Financial Business (Productive)</div>
        <div class="ic-val amber" id="v-lend-productive">16.6%</div>
        <div class="ic-meta"><span class="ic-date">of total outstanding credit</span></div>
        <div class="ic-hint">SMEs, industry, capex, working capital · BoE</div>
        <div class="ic-arrow">▼</div>
      </div>
      <div class="ic" id="icc-lend-mortgage" onclick="expand('lendmortgage',this)">
        <div class="ic-label">Residential Mortgages</div>
        <div class="ic-val red" id="v-lend-mortgage">54.1%</div>
        <div class="ic-meta"><span class="ic-date">of total outstanding credit</span></div>
        <div class="ic-hint">House purchase — existing assets · BoE</div>
        <div class="ic-arrow">▼</div>
      </div>
      <div class="ic" id="icc-lend-fire" onclick="expand('lendfire',this)">
        <div class="ic-label">Financial / Insurance / Real Estate</div>
        <div class="ic-val red" id="v-lend-fire">23.9%</div>
        <div class="ic-meta"><span class="ic-date">of total outstanding credit</span></div>
        <div class="ic-hint">FIRE sector — financialised lending · BoE</div>
        <div class="ic-arrow">▼</div>
      </div>
      <div class="ic" id="icc-lend-consumer" onclick="expand('lendconsumer',this)">
        <div class="ic-label">Consumer Credit</div>
        <div class="ic-val amber" id="v-lend-consumer">4.6%</div>
        <div class="ic-meta"><span class="ic-date">of total outstanding credit</span></div>
        <div class="ic-hint">Cards, personal loans, overdrafts · BoE</div>
        <div class="ic-arrow">▼</div>
      </div>
    </div>
  </div>
  <div class="ep" id="ep-economic-lending"></div>

</section>

<!-- ================================================================
     CONSUMER HEALTH
================================================================ -->
<section id="tab-consumer" class="section">
  <div class="sh mb">Consumer Distress — Click Any Card To Expand</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-indinsol" onclick="expand('indinsol',this)">
      <div class="ic-label">Individual Insolvencies</div>
      <div class="ic-val red" id="v-indinsol">—</div>
      <div class="ic-meta"><span class="ic-date">Monthly · Insolvency Service</span></div>
      <div class="ic-hint">England &amp; Wales</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-compinsol" onclick="expand('compinsol',this)">
      <div class="ic-label">Company Insolvencies</div>
      <div class="ic-val red" id="v-compinsol">—</div>
      <div class="ic-meta"><span class="ic-date">Monthly · Insolvency Service</span></div>
      <div class="ic-hint">England &amp; Wales</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-arrears" onclick="expand('arrears',this)">
      <div class="ic-label">Mortgage Arrears (3+ months)</div>
      <div class="ic-val amber" id="v-arrears">—</div>
      <div class="ic-meta"><span class="ic-date">% of mortgages · BoE</span></div>
      <div class="ic-hint">Households in payment difficulty</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-possession" onclick="expand('possession',this)">
      <div class="ic-label">Properties in Possession</div>
      <div class="ic-val amber" id="v-possession">—</div>
      <div class="ic-meta"><span class="ic-date">Quarterly · UK Finance</span></div>
      <div class="ic-hint">Repossessions · lender data</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-consumer-distress"></div>

  <div class="sh mb">Consumer Sentiment &amp; Credit</div>
  <div class="ic-grid cols-3 mb">
    <div class="ic" id="icc-gfk2" onclick="expand('gfk2',this)">
      <div class="ic-label">GfK Consumer Confidence</div>
      <div class="ic-val red" id="v-gfk2">—</div>
      <div class="ic-meta"><span class="ic-date">Monthly Survey</span></div>
      <div class="ic-hint">GfK / ONS · negative = pessimistic</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-ccborrow" onclick="expand('ccborrow',this)">
      <div class="ic-label">Credit Card Borrowing (Net Monthly Flow)</div>
      <div class="ic-val red" id="v-ccborrow">—</div>
      <div class="ic-meta"><span class="ic-date" id="d-ccborrow">Monthly · BoE</span></div>
      <div class="ic-hint">New credit card borrowing · £bn · BoE M4</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-hdebt" onclick="expand('hdebt',this)">
      <div class="ic-label">Household Debt / Income Ratio</div>
      <div class="ic-val amber" id="v-hdebt">—</div>
      <div class="ic-meta"><span class="ic-date" id="d-hdebt">Quarterly · ONS</span></div>
      <div class="ic-hint">Total household debt as % of disposable income</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-consumer-sentiment"></div>
</section>

<!-- ================================================================
     FISCAL & TRADE
================================================================ -->
<section id="tab-fiscal" class="section">
  <div class="sh mb">Public Finances — Click Any Card To Expand</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-debtgdp" onclick="expand('debtgdp',this)">
      <div class="ic-label">Public Debt (% GDP)</div>
      <div class="ic-val red" id="v-debtgdp">—</div>
      <div class="ic-meta"><span class="ic-date">ONS PSF excl. BoE</span></div>
      <div class="ic-hint">Public Sector Net Debt</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-debtabs" onclick="expand('debtabs',this)">
      <div class="ic-label">Public Debt (£bn)</div>
      <div class="ic-val red" id="v-debtabs">—</div>
      <div class="ic-meta"><span class="ic-date">Absolute value · ONS PSF</span></div>
      <div class="ic-hint">Total public sector net debt</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-interestm" onclick="expand('interestm',this)">
      <div class="ic-label">Monthly Debt Interest</div>
      <div class="ic-val amber" id="v-interestm">—</div>
      <div class="ic-meta"><span class="ic-date">£bn · ONS PSF</span></div>
      <div class="ic-hint">Monthly interest cost of debt</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-interesta" onclick="expand('interesta',this)">
      <div class="ic-label">Annual Debt Interest</div>
      <div class="ic-val amber" id="v-interesta">—</div>
      <div class="ic-meta"><span class="ic-date">Rolling 12-month · ONS PSF</span></div>
      <div class="ic-hint">Total annual interest bill</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-fiscal-debt"></div>

  <div class="ic-grid cols-3 mb">
    <div class="ic" id="icc-borrowing" onclick="expand('borrowing',this)">
      <div class="ic-label">Monthly Borrowing (PSNB)</div>
      <div class="ic-val" id="v-borrowing">—</div>
      <div class="ic-meta"><span class="ic-date">ONS PSF</span></div>
      <div class="ic-hint">Public sector net borrowing</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-taxreceipts" onclick="expand('taxreceipts',this)">
      <div class="ic-label">Total Tax Receipts</div>
      <div class="ic-val" id="v-taxreceipts">—</div>
      <div class="ic-meta"><span id="chg-taxreceipts" class="chg neu">—</span></div>
      <div class="ic-hint">Monthly HMRC / ONS PSF</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-deficit" onclick="expand('deficit',this)">
      <div class="ic-label">Budget Deficit (% GDP)</div>
      <div class="ic-val red" id="v-deficit">—</div>
      <div class="ic-meta"><span class="ic-date">Full year outturn · ONS</span></div>
      <div class="ic-hint">Public sector net borrowing as % GDP</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-fiscal-borrowing"></div>

  <div class="sh mb">Tax Revenue Breakdown</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-incometax" onclick="expand('incometax',this)">
      <div class="ic-label">Income Tax Receipts</div>
      <div class="ic-val blue" id="v-incometax">—</div>
      <div class="ic-meta"><span class="ic-date">Monthly estimate · HMRC</span></div>
      <div class="ic-hint">Largest single tax revenue</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-nics" onclick="expand('nics',this)">
      <div class="ic-label">National Insurance (NICs)</div>
      <div class="ic-val blue" id="v-nics">—</div>
      <div class="ic-meta"><span class="ic-date">Monthly estimate · HMRC</span></div>
      <div class="ic-hint">Employee + employer contributions</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-vat" onclick="expand('vat',this)">
      <div class="ic-label">VAT Receipts</div>
      <div class="ic-val blue" id="v-vat">—</div>
      <div class="ic-meta"><span class="ic-date">Monthly estimate · HMRC</span></div>
      <div class="ic-hint">Value Added Tax revenue</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-corptax" onclick="expand('corptax',this)">
      <div class="ic-label">Corporation Tax</div>
      <div class="ic-val blue" id="v-corptax">—</div>
      <div class="ic-meta"><span class="ic-date">Monthly estimate · HMRC</span></div>
      <div class="ic-hint">Business profit tax</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-fiscal-tax"></div>

  <div class="sh mb">Trade &amp; Current Account</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-tradegoods" onclick="expand('tradegoods',this)">
      <div class="ic-label">Trade Balance (Goods)</div>
      <div class="ic-val red" id="v-tradegoods">—</div>
      <div class="ic-meta"><span class="ic-date">£bn Monthly · ONS</span></div>
      <div class="ic-hint">Goods imports minus exports</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-tradeservices" onclick="expand('tradeservices',this)">
      <div class="ic-label">Trade Balance (Services)</div>
      <div class="ic-val green" id="v-tradeservices">—</div>
      <div class="ic-meta"><span class="ic-date">£bn Monthly · ONS</span></div>
      <div class="ic-hint">Services exports minus imports</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-currentacct" onclick="expand('currentacct',this)">
      <div class="ic-label">Current Account Balance</div>
      <div class="ic-val red" id="v-currentacct">—</div>
      <div class="ic-meta"><span class="ic-date">% of GDP · ONS BoP</span></div>
      <div class="ic-hint">Trade + income + transfers</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-twin" onclick="expand('twin',this)">
      <div class="ic-label">Twin Deficit Assessment</div>
      <div class="ic-val red" id="v-twin">—</div>
      <div class="ic-meta"><span class="ic-date">Budget + Current Account</span></div>
      <div class="ic-hint">Both deficits combined signal</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-fiscal-trade"></div>
</section>

<!-- ================================================================
     SOCIAL
================================================================ -->
<section id="tab-social" class="section">
  <div class="sh mb">Youth &amp; Education — Click Any Card To Expand</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-neet2" onclick="expand('neet2',this)">
      <div class="ic-label">NEET Rate (16–24)</div>
      <div class="ic-val amber" id="v-neet2">—</div>
      <div class="ic-meta"><span class="ic-date">Not in Ed, Employment or Training</span></div>
      <div class="ic-hint">Quarterly · ONS</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-neettotal" onclick="expand('neettotal',this)">
      <div class="ic-label">NEET Total (thousands)</div>
      <div class="ic-val amber" id="v-neettotal">—</div>
      <div class="ic-meta"><span class="ic-date">Estimated population</span></div>
      <div class="ic-hint">Estimated total NEET population</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-youthunemp2" onclick="expand('youthunemp2',this)">
      <div class="ic-label">Youth Unemployment (16-24)</div>
      <div class="ic-val red" id="v-youthunemp2">—</div>
      <div class="ic-meta"><span class="ic-date">ILO Definition · ONS LFS</span></div>
      <div class="ic-hint">16–24 seeking work</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-youthinactive" onclick="expand('youthinactive',this)">
      <div class="ic-label">Youth Economic Inactivity</div>
      <div class="ic-val red" id="v-youthinactive">—</div>
      <div class="ic-meta"><span class="ic-date">16-24 · ONS LFS</span></div>
      <div class="ic-hint">Not working, not seeking work</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-social-youth"></div>

  <div class="sh mb">Mental Health &amp; Disability</div>
  <div class="ic-grid cols-3 mb">
    <div class="ic" id="icc-pip" onclick="expand('pip',this)">
      <div class="ic-label">Health / Disability Benefit Claimants</div>
      <div class="ic-val red" id="v-pip">—</div>
      <div class="ic-meta"><span class="ic-date">PIP + ESA · DWP (thousands)</span></div>
      <div class="ic-hint">Working-age claimants on health benefits</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-iapt" onclick="expand('iapt',this)">
      <div class="ic-label">NHS Talking Therapy Referrals</div>
      <div class="ic-val amber" id="v-iapt">—</div>
      <div class="ic-meta"><span class="ic-date">Monthly · NHS England</span></div>
      <div class="ic-hint">IAPT / Talking Therapies programme</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-camhs" onclick="expand('camhs',this)">
      <div class="ic-label">Children's Mental Health (CAMHS)</div>
      <div class="ic-val red" id="v-camhs">—</div>
      <div class="ic-meta"><span class="ic-date">Annual referrals · NHS</span></div>
      <div class="ic-hint">Children &amp; adolescent mental health referrals</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-social-mental"></div>

  <div class="sh mb">Migration</div>
  <div class="ic-grid cols-3 mb">
    <div class="ic" id="icc-immigration" onclick="expand('immigration',this)">
      <div class="ic-label">Immigration (Annual)</div>
      <div class="ic-val red" id="v-immigration">—</div>
      <div class="ic-meta"><span class="ic-date">Arrivals to UK · ONS</span></div>
      <div class="ic-hint">Total arrivals per year</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-emigration" onclick="expand('emigration',this)">
      <div class="ic-label">Emigration (Annual)</div>
      <div class="ic-val green" id="v-emigration">—</div>
      <div class="ic-meta"><span class="ic-date">Departures from UK · ONS</span></div>
      <div class="ic-hint">Total departures per year</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-netmig" onclick="expand('netmig',this)">
      <div class="ic-label">Net Migration (Annual)</div>
      <div class="ic-val amber" id="v-netmig">—</div>
      <div class="ic-meta"><span class="ic-date">Arrivals minus departures</span></div>
      <div class="ic-hint">ONS International Migration Statistics</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-social-migration"></div>
</section>

<!-- ================================================================
     POLITICS & NEWS
================================================================ -->
<section id="tab-politics" class="section">

  <!-- WESTMINSTER POLL BAR -->
  <div class="sh mb">Westminster Voting Intention — Feb 2026</div>
  <div class="cc mb">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:8px;margin-bottom:12px">
      <div>
        <div class="cc-title">National Poll Average</div>
        <div class="cc-period">7-poll moving average across YouGov, Opinium, Survation &amp; others — shows the share of voters who say they would vote for each party if a general election were held tomorrow.</div>
      </div>
    </div>
    <div class="poll-bar" style="height:38px">
      <div class="poll-seg" style="background:#12b6cf;width:29%;color:white;font-size:10px">REF 29%</div>
      <div class="poll-seg" style="background:#e4003b;width:19%;color:white;font-size:10px">LAB 19%</div>
      <div class="poll-seg" style="background:#0087dc;width:19%;color:white;font-size:10px">CON 19%</div>
      <div class="poll-seg" style="background:#faa61a;width:12%;color:#111;font-size:10px">LD 12%</div>
      <div class="poll-seg" style="background:#78b943;width:14%;color:white;font-size:10px">GRN 14%</div>
      <div class="poll-seg" style="background:#7c3aed;width:10%;color:white;font-size:9px" title="Restore Britain (⚠ self-commissioned poll)">RB 10%</div>
      <div class="poll-seg" style="background:#555;width:5%;color:white;font-size:9px">OTH</div>
    </div>
    <div class="poll-legend" style="margin-top:12px">
      <div class="poll-legend-item"><div class="poll-dot" style="background:#12b6cf"></div>Reform UK: <strong>29%</strong> <span style="color:var(--green);font-size:9px">▲+15pp since election</span></div>
      <div class="poll-legend-item"><div class="poll-dot" style="background:#e4003b"></div>Labour: <strong>19%</strong> <span style="color:var(--red);font-size:9px">▼−15pp since election</span></div>
      <div class="poll-legend-item"><div class="poll-dot" style="background:#0087dc"></div>Conservative: <strong>19%</strong> <span style="color:var(--red);font-size:9px">▼−5pp since election</span></div>
      <div class="poll-legend-item"><div class="poll-dot" style="background:#faa61a"></div>Lib Dems: <strong>12%</strong></div>
      <div class="poll-legend-item"><div class="poll-dot" style="background:#78b943"></div>Green: <strong>14%</strong> <span style="color:var(--green);font-size:9px">▲ Zack Polanski leadership boost</span></div>
      <div class="poll-legend-item"><div class="poll-dot" style="background:#7c3aed"></div>Restore Britain: <strong>10%</strong> <span style="color:var(--amber);font-size:9px">⬡ Launched Feb 2026 · ⚠ Single self-commissioned poll (Find Out Now, n=1,000) — treat with caution</span></div>
      <div class="poll-legend-item"><div class="poll-dot" style="background:#fff95d;border:1px solid #555"></div>SNP: <strong>3%</strong></div>
    </div>
  </div>

  <!-- PARTY TREND CARDS -->
  <div class="sh mb">Party Polling Trends — Click to Expand</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-labour" onclick="expand('labour',this)">
      <div class="ic-label">Labour</div>
      <div class="ic-val" style="color:#e4003b" id="v-labour">27%</div>
      <div class="ic-meta"><span class="ic-date">Polling avg · Feb 2026</span></div>
      <div class="ic-hint">▼ Historic collapse — lowest since 2009</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-reform" onclick="expand('reform',this)">
      <div class="ic-label">Reform UK</div>
      <div class="ic-val" style="color:#12b6cf" id="v-reform">25%</div>
      <div class="ic-meta"><span class="ic-date">Polling avg · Feb 2026</span></div>
      <div class="ic-hint">▲ Clear lead — largest party by poll share</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-conservative" onclick="expand('conservative',this)">
      <div class="ic-label">Conservative</div>
      <div class="ic-val" style="color:#0087dc" id="v-conservative">20%</div>
      <div class="ic-meta"><span class="ic-date">Polling avg · Feb 2026</span></div>
      <div class="ic-hint">▼ Third party territory — existential threat</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-restorebritain" onclick="expand('restorebritain',this)">
      <div class="ic-label">Restore Britain</div>
      <div class="ic-val" style="color:#7c3aed" id="v-restorebritain">10%</div>
      <div class="ic-meta"><span class="ic-date">Launched Feb 2026 · Rupert Lowe</span></div>
      <div class="ic-hint">⚠ Self-commissioned poll · 86% of public cannot identify Lowe</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-politics-polls"></div>

  <!-- REGIONAL POLITICAL GEOGRAPHY -->
  <div class="sh mb">Regional Political Geography — Who Controls What</div>
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:14px">

    <!-- Current control map (SVG schematic) -->
    <div class="cc">
      <div class="cc-title">Current Westminster Seat Distribution (2024)</div>
      <div class="cc-period">House of Commons — 650 total seats · Results from July 2024 General Election</div>
      <div style="margin:14px 0">
        <!-- Seat bar -->
        <div style="display:flex;height:28px;border-radius:3px;overflow:hidden;gap:1px;margin-bottom:8px">
          <div style="background:#e4003b;width:63.4%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:10px;color:white;font-weight:600">LAB 412</div>
          <div style="background:#faa61a;width:18.6%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:10px;color:#111;font-weight:600">LD 72</div>
          <div style="background:#0087dc;width:18.6%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:10px;color:white;font-weight:600">CON 121</div>
        </div>
        <div style="display:flex;height:28px;border-radius:3px;overflow:hidden;gap:1px">
          <div style="background:#78b943;width:4.2%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:9px;color:white" title="Green 4">GRN</div>
          <div style="background:#fff95d;width:4.2%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:9px;color:#333" title="SNP 9">SNP</div>
          <div style="background:#005eb8;width:3.1%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:9px;color:white" title="PC 4">PC</div>
          <div style="background:#12b6cf;width:0.8%;background:#12b6cf" title="Reform 5"></div>
          <div style="background:#555;width:83.7%"></div>
        </div>
      </div>
      <!-- Regional breakdown table -->
      <div style="font-family:var(--mono);font-size:9px;letter-spacing:.08em;color:var(--td);text-transform:uppercase;margin-bottom:8px">Regional Control (Council / Metro Mayors)</div>
      <div id="regional-breakdown" style="display:flex;flex-direction:column;gap:4px"></div>
    </div>

    <!-- Swing scenarios -->
    <div class="cc">
      <div class="cc-title">If Current Polling Were an Election</div>
      <div class="cc-period">Notional seat projection — uniform swing model (indicative only, not MRP)</div>
      <div style="margin:14px 0">
        <div style="display:flex;height:28px;border-radius:3px;overflow:hidden;gap:1px;margin-bottom:8px">
          <div style="background:#12b6cf;width:37%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:10px;color:white;font-weight:600">REF ~241</div>
          <div style="background:#e4003b;width:28%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:10px;color:white;font-weight:600">LAB ~182</div>
          <div style="background:#0087dc;width:16%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:10px;color:white">CON ~104</div>
          <div style="background:#faa61a;width:10%;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:9px;color:#111">LD ~65</div>
          <div style="background:#555;width:9%"></div>
        </div>
        <div style="font-family:var(--mono);font-size:9px;color:var(--red);margin-bottom:10px">⚠ No overall majority threshold: 326 seats. Current polling = hung parliament.</div>
      </div>
      <!-- London vs Rest of England gap -->
      <div style="font-family:var(--mono);font-size:9px;letter-spacing:.08em;color:var(--td);text-transform:uppercase;margin-bottom:8px">The London Bubble — Polling Divergence</div>
      <div id="london-bubble" style="display:flex;flex-direction:column;gap:5px"></div>
      <div style="font-family:var(--mono);font-size:8px;color:var(--td);margin-top:10px;padding-top:8px;border-top:1px solid var(--border)">
        London remains a Labour/LD stronghold. Reform's support concentrated in Midlands, North, coastal towns and rural England — echoing the 2016 Leave coalition geography. Sources: Electoral Calculus, YouGov MRP, Electoral Commission.
      </div>
    </div>
  </div>

  <!-- TOP PUBLIC CONCERNS -->
  <div class="sh mb">Top Public Concerns — What Voters Say Matters Most</div>
  <div class="cc mb">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px">
      <div>
        <div class="cc-title">Most Important Issues Facing Britain</div>
        <div class="cc-period">Ipsos / YouGov / King's College London polling aggregate · Feb 2026 · % citing as top concern</div>
      </div>
    </div>
    <div id="issues-bars" style="display:flex;flex-direction:column;gap:9px"></div>
    <div style="font-family:var(--mono);font-size:8px;color:var(--td);margin-top:12px">Note: Respondents can select multiple issues. % = share naming as a top-3 concern. Pre-2024 election the top issue was cost of living; immigration has risen sharply since.</div>
  </div>

  <!-- APPROVAL / TRUST METRICS -->
  <div class="sh mb">Government Approval &amp; Institutional Trust</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-govapproval" onclick="expand('govapproval',this)">
      <div class="ic-label">Government Approval Rating</div>
      <div class="ic-val red" id="v-govapproval">−23</div>
      <div class="ic-meta"><span class="ic-date">Net approval · Ipsos Feb 2026</span></div>
      <div class="ic-hint">Approve minus disapprove net score</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-pmsatisfaction" onclick="expand('pmsatisfaction',this)">
      <div class="ic-label">PM Satisfaction (Starmer)</div>
      <div class="ic-val red" id="v-pmsatisfaction">−28</div>
      <div class="ic-meta"><span class="ic-date">Net satisfaction · Ipsos Feb 2026</span></div>
      <div class="ic-hint">Fastest collapse for a new PM since records</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-trustparliament" onclick="expand('trustparliament',this)">
      <div class="ic-label">Trust in Parliament</div>
      <div class="ic-val red" id="v-trustparliament">19%</div>
      <div class="ic-meta"><span class="ic-date">% trusting · Ipsos Veracity Index</span></div>
      <div class="ic-hint">Near historic low — only 19% trust MPs</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-righttrack" onclick="expand('righttrack',this)">
      <div class="ic-label">"Right Track" for Britain</div>
      <div class="ic-val red" id="v-righttrack">18%</div>
      <div class="ic-meta"><span class="ic-date">% saying right direction · Ipsos</span></div>
      <div class="ic-hint">vs 71% saying "wrong track"</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-politics-approval"></div>

</section>
<!-- ================================================================
     DEMOGRAPHICS
================================================================ -->
<section id="tab-demographics" class="section">

  <!-- WARNING BANNER — the Dredge line -->
  <div style="background:rgba(255,71,87,.06);border:1px solid rgba(255,71,87,.3);border-radius:4px;padding:16px 20px;margin-bottom:18px;display:flex;align-items:center;gap:16px">
    <div style="font-size:22px;opacity:.7">⚠</div>
    <div>
      <div style="font-family:var(--mono);font-size:13px;font-weight:600;color:var(--red);letter-spacing:.05em;margin-bottom:4px">"And remember: for every year going forward there will be fewer taxpayers."</div>
      <div style="font-family:var(--mono);font-size:9px;color:var(--td);letter-spacing:.1em">— David Dredge · The intractable arithmetic: welfare expenses rising, tax base shrinking. This tab exists to make that visible.</div>
    </div>
  </div>

  <!-- HEADLINE POPULATION + DEPENDENCY RATIO METRICS -->
  <div class="sh mb">Population Overview &amp; The Dependency Equation</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-ukpop" onclick="expand('ukpop',this)">
      <div class="ic-label">UK Total Population</div>
      <div class="ic-val blue" id="v-ukpop">67.6m</div>
      <div class="ic-meta"><span class="ic-date">ONS Mid-2023 estimate</span></div>
      <div class="ic-hint">Projected: 70m by 2026, 78m by 2050</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-pensioners" onclick="expand('pensioners',this)">
      <div class="ic-label">State Pension Age Recipients</div>
      <div class="ic-val red" id="v-pensioners">12.7m</div>
      <div class="ic-meta"><span class="ic-date">DWP · 2024 — rising fast</span></div>
      <div class="ic-hint">+800k Boomers per year reaching SPA</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-workerratio" onclick="expand('workerratio',this)">
      <div class="ic-label">Workers per Pensioner</div>
      <div class="ic-val amber" id="v-workerratio">3.2</div>
      <div class="ic-meta"><span class="ic-date">Ratio · declining annually</span></div>
      <div class="ic-hint">Was 4.0 in 2000 · Projected 2.3 by 2040</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-birthrate" onclick="expand('birthrate',this)">
      <div class="ic-label">Total Fertility Rate</div>
      <div class="ic-val red" id="v-birthrate">1.44</div>
      <div class="ic-meta"><span class="ic-date">ONS 2023 — record low</span></div>
      <div class="ic-hint">Replacement level: 2.1 · Below since 1973</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-demo-headline"></div>

  <!-- GENERATIONAL COHORT BREAKDOWN -->
  <div class="sh mb">Generational Cohorts — Who We Are</div>
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:14px">

    <!-- Cohort bar chart -->
    <div class="cc">
      <div class="cc-title">Population by Generation — 2024</div>
      <div class="cc-period">ONS mid-year estimates · millions</div>
      <div style="height:240px;position:relative;margin-top:12px"><canvas id="chart-cohorts"></canvas></div>
    </div>

    <!-- Cohort cards grid -->
    <div style="display:flex;flex-direction:column;gap:8px">
      <div id="cohort-cards"></div>
      <div style="font-family:var(--mono);font-size:9px;color:var(--td);line-height:1.6;padding:10px;background:rgba(255,71,87,.03);border:1px solid rgba(255,71,87,.1);border-radius:3px">
        <span style="color:var(--amber)">// THE BOOMER CLIFF:</span> The Baby Boomer generation (born 1946–1964) is entering retirement at ~800,000 per year. By 2030, the majority will have left the workforce. Each departing worker removes ~£12,000–£18,000 in annual tax contributions while adding a state pension recipient of ~£11,500/yr (2024 full new state pension) plus NHS/social care costs.
      </div>
    </div>
  </div>

  <!-- THE CRUNCH VISUALISATION: workers vs pensioners converging -->
  <div class="sh mb">The Crunch — Workers vs Pensioners: Converging Lines</div>
  <div class="cc mb">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px;flex-wrap:wrap;gap:8px">
      <div>
        <div class="cc-title">Working Age Population vs State Pension Recipients — Actual &amp; Forecast</div>
        <div class="cc-period">ONS Population Projections · DWP Pensions Statistics · Shaded area = forecast period</div>
      </div>
      <div style="display:flex;gap:16px;font-family:var(--mono);font-size:10px">
        <div style="display:flex;align-items:center;gap:6px"><div style="width:12px;height:3px;background:#00d084;border-radius:2px"></div>Working age (16–64)</div>
        <div style="display:flex;align-items:center;gap:6px"><div style="width:12px;height:3px;background:#ff4757;border-radius:2px"></div>State pension recipients</div>
        <div style="display:flex;align-items:center;gap:6px"><div style="width:12px;height:6px;background:rgba(255,71,87,.1);border-radius:2px"></div>Forecast</div>
      </div>
    </div>
    <div style="height:260px;position:relative"><canvas id="chart-worker-pensioner"></canvas></div>
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-top:14px;padding-top:12px;border-top:1px solid var(--border)">
      <div style="text-align:center"><div style="font-family:var(--mono);font-size:8px;color:var(--td);text-transform:uppercase;letter-spacing:.1em;margin-bottom:4px">2000 Ratio</div><div style="font-family:var(--mono);font-size:18px;font-weight:600;color:var(--green)">4.0 : 1</div></div>
      <div style="text-align:center"><div style="font-family:var(--mono);font-size:8px;color:var(--td);text-transform:uppercase;letter-spacing:.1em;margin-bottom:4px">2024 Ratio</div><div style="font-family:var(--mono);font-size:18px;font-weight:600;color:var(--amber)">3.2 : 1</div></div>
      <div style="text-align:center"><div style="font-family:var(--mono);font-size:8px;color:var(--td);text-transform:uppercase;letter-spacing:.1em;margin-bottom:4px">2040 Forecast</div><div style="font-family:var(--mono);font-size:18px;font-weight:600;color:var(--red)">2.3 : 1</div></div>
      <div style="text-align:center"><div style="font-family:var(--mono);font-size:8px;color:var(--td);text-transform:uppercase;letter-spacing:.1em;margin-bottom:4px">2050 Forecast</div><div style="font-family:var(--mono);font-size:18px;font-weight:600;color:var(--red)">1.9 : 1</div></div>
    </div>
  </div>

  <!-- WELFARE BURDEN vs TAX BASE — THE SCISSORS CHART -->
  <div class="sh mb">The Scissors — Welfare Spending Rising, Tax Base Shrinking</div>
  <div class="cc mb">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px;flex-wrap:wrap;gap:8px">
      <div>
        <div class="cc-title">Welfare &amp; Pension Spend vs Working-Age Population — Indexed to 2010</div>
        <div class="cc-period">ONS / DWP / OBR · Index 2010 = 100 · Shaded area = forecast · This is the Dredge dynamic made visible.</div>
      </div>
      <div style="display:flex;gap:16px;font-family:var(--mono);font-size:10px">
        <div style="display:flex;align-items:center;gap:6px"><div style="width:12px;height:3px;background:#ff4757;border-radius:2px"></div>Welfare + pension spend (indexed)</div>
        <div style="display:flex;align-items:center;gap:6px"><div style="width:12px;height:3px;background:#00d084;border-radius:2px"></div>Working age pop. (indexed)</div>
      </div>
    </div>
    <div style="height:240px;position:relative"><canvas id="chart-scissors"></canvas></div>
  </div>

  <!-- KEY DEMOGRAPHIC INDICATORS — EXPANDABLE -->
  <div class="sh mb">Key Demographic Indicators — Click to Expand</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-birthsperyear" onclick="expand('birthsperyear',this)">
      <div class="ic-label">Live Births (Annual)</div>
      <div class="ic-val amber" id="v-birthsperyear">591k</div>
      <div class="ic-meta"><span class="ic-date">ONS 2023 — record low</span></div>
      <div class="ic-hint">Down from 794k peak in 2012</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-statepension" onclick="expand('statepension',this)">
      <div class="ic-label">State Pension Cost (Annual)</div>
      <div class="ic-val red" id="v-statepension">£124bn</div>
      <div class="ic-meta"><span class="ic-date">DWP 2024/25 estimate</span></div>
      <div class="ic-hint">Largest single welfare expenditure</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-lifeexpect" onclick="expand('lifeexpect',this)">
      <div class="ic-label">Life Expectancy at Birth</div>
      <div class="ic-val blue" id="v-lifeexpect">80.9 / 84.9</div>
      <div class="ic-meta"><span class="ic-date">Male / Female · ONS 2020–22</span></div>
      <div class="ic-hint">Growing gap between SPA and life expectancy</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-labourpart" onclick="expand('labourpart',this)">
      <div class="ic-label">Labour Force Participation (50–64)</div>
      <div class="ic-val amber" id="v-labourpart">72.8%</div>
      <div class="ic-meta"><span class="ic-date">ONS LFS · Older workers</span></div>
      <div class="ic-hint">Critical cohort: pre-retirement drop-offs rising</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-demo-indicators"></div>

  <!-- PENSION FORECAST TABLE -->
  <div class="sh mb">Pensioner Population — Forecast to 2050</div>
  <div class="ic-grid cols-4 mb">
    <div class="ic" id="icc-penfore2025" onclick="expand('penfore2025',this)">
      <div class="ic-label">Pensioners — 2025</div>
      <div class="ic-val amber" id="v-penfore2025">13.0m</div>
      <div class="ic-meta"><span class="ic-date">ONS Principal Projection</span></div>
      <div class="ic-hint">~19% of UK population</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-penfore2030" onclick="expand('penfore2030',this)">
      <div class="ic-label">Pensioners — 2030</div>
      <div class="ic-val amber" id="v-penfore2030">14.5m</div>
      <div class="ic-meta"><span class="ic-date">ONS Principal Projection</span></div>
      <div class="ic-hint">+1.5m from 2025 · Boomer peak</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-penfore2040" onclick="expand('penfore2040',this)">
      <div class="ic-label">Pensioners — 2040</div>
      <div class="ic-val red" id="v-penfore2040">16.8m</div>
      <div class="ic-meta"><span class="ic-date">ONS Principal Projection</span></div>
      <div class="ic-hint">~22% of projected UK population</div>
      <div class="ic-arrow">▼</div>
    </div>
    <div class="ic" id="icc-penfore2050" onclick="expand('penfore2050',this)">
      <div class="ic-label">Pensioners — 2050</div>
      <div class="ic-val red" id="v-penfore2050">19.2m</div>
      <div class="ic-meta"><span class="ic-date">ONS Principal Projection</span></div>
      <div class="ic-hint">~25% of population — 1 in 4</div>
      <div class="ic-arrow">▼</div>
    </div>
  </div>
  <div class="ep" id="ep-demo-pension-forecast"></div>

</section>

</main>



<script>
// ============================================================
// CHART DEFAULTS
// ============================================================
Chart.defaults.color = '#4a5f75';
Chart.defaults.borderColor = '#1e2a38';
Chart.defaults.font.family = "'IBM Plex Mono', monospace";
Chart.defaults.font.size = 10;

const CD = {
  responsive: true,
  maintainAspectRatio: false,
  plugins: {
    legend: { display: false },
    tooltip: {
      backgroundColor: '#131820',
      borderColor: '#2a3f56',
      borderWidth: 1,
      titleColor: '#7a8fa6',
      bodyColor: '#e8edf2',
      padding: 10,
      titleFont: { family: "'IBM Plex Mono', monospace", size: 10 },
      bodyFont: { family: "'IBM Plex Mono', monospace", size: 11, weight: '600' }
    }
  },
  scales: {
    x: { grid: { color: '#1e2a38' }, ticks: { color: '#4a5f75', maxTicksLimit: 8 } },
    y: { grid: { color: '#1e2a38' }, ticks: { color: '#4a5f75' } }
  }
};

// ============================================================
// INDICATOR DATA REGISTRY
// ============================================================
const IND = {
  // --- OVERVIEW / shared ---
  cpi: {
    title: 'CPI Inflation — 12-Month Rate', sub: 'Consumer Price Index | ONS MM23 (D7G7) | Target: 2.0%', color: '#ffa502', unit: '%',
    recent: { labels: ['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'], values: [3.4,3.2,2.3,2.0,2.0,2.2,2.2,1.7,2.3,2.6,2.5,3.0] },
    trend2y: { labels: ['Feb 23','Apr','Jun','Aug','Oct','Dec','Feb 24','Apr','Jun','Aug','Oct','Dec','Jan 25','Apr 25','Aug 25','Nov 25','Jan 26'], values: [10.4,8.7,7.9,6.8,4.6,4.0,3.4,2.3,2.0,2.2,2.3,2.5,3.0,3.5,2.2,3.2,3.0] },
    trend5y: { labels: ['Jan 20','Jul 20','Jan 21','Jul 21','Jan 22','Jul 22','Jan 23','Jul 23','Jan 24','Jul 24','Jan 25','Jan 26'], values: [1.8,1.0,0.7,2.1,5.4,10.1,10.1,6.8,4.0,2.2,3.0,3.0] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025','2026'], values: [0.0,0.7,2.7,2.5,1.8,0.9,2.5,9.1,7.3,2.5,3.0,3.0] },
    stats: [{l:'Current',v:'3.0%',c:'amber'},{l:'BoE Target',v:'2.0%',c:''},{l:'Peak (Oct 2022)',v:'11.1%',c:'red'},{l:'Pre-Covid Avg',v:'1.8%',c:'green'},{l:'MoM Change',v:'+0.5pp',c:'red'}]
  },
  boe: {
    title: 'Bank of England Base Rate', sub: 'Official Bank Rate | Monetary Policy Committee', color: '#00b8d9', unit: '%',
    recent: { labels: ['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan','Feb'], values: [5.25,5.25,5.25,5.25,5.25,5.25,5.00,5.00,4.75,4.75,4.75,4.75,3.75] },
    trend2y: { labels: ['Feb 23','May 23','Aug 23','Nov 23','Feb 24','May 24','Aug 24','Nov 24','Feb 25','Dec 25','Feb 26'], values: [4.00,4.50,5.25,5.25,5.25,5.25,5.00,4.75,4.75,3.75,3.75] },
    trend5y: { labels: ['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25','Feb 26'], values: [0.75,0.10,0.25,3.50,5.25,4.75,3.75] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2026'], values: [0.50,0.25,0.50,0.75,0.75,0.10,0.10,2.25,5.25,4.75,3.75] },
    stats: [{l:'Current',v:'4.75%',c:'blue'},{l:'Peak (Aug 23)',v:'5.25%',c:'red'},{l:'Covid Low',v:'0.10%',c:'green'},{l:'Cuts Since 2023 Peak',v:'−0.50pp',c:'green'},{l:'Next MPC',v:'Mar 2025',c:''}]
  },
  unemp: {
    title: 'UK Unemployment Rate', sub: 'ILO Definition, 16+ | ONS Labour Force Survey (MGSX)', color: '#00d084', unit: '%',
    recent: { labels: ['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'], values: [3.9,4.2,4.4,4.4,4.2,4.1,4.1,4.0,4.3,4.4,4.4,4.4] },
    trend2y: { labels: ['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24','Q4 25'], values: [3.8,3.9,4.3,3.9,4.2,4.4,4.1,4.4,5.2] },
    trend5y: { labels: ['2020','2021','2022','2023','2024','2025'], values: [4.5,4.5,3.7,4.2,4.4,5.2] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'], values: [5.4,4.9,4.4,4.1,3.8,4.5,4.5,3.7,4.2,4.4,5.2] },
    stats: [{l:'Current',v:'4.4%',c:'amber'},{l:'Covid Peak',v:'5.2%',c:'red'},{l:'50yr Low (2022)',v:'3.5%',c:'green'},{l:'Claimant Count',v:'1.78m',c:'amber'},{l:'EU Avg',v:'5.9%',c:''}]
  },
  gdp: {
    title: 'UK GDP Growth (Quarter-on-Quarter)', sub: 'ONS National Accounts (QNA) | Chained Volume Measure', color: '#00d084', unit: '%',
    recent: { labels: ['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'], values: [0.7,-0.1,-0.1,0.1,0.1,0.2,0.0,-0.3,0.7,0.5,0.1,0.1] },
    trend2y: { labels: ['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'], values: [0.1,0.2,0.0,-0.3,0.7,0.5,0.1,0.1] },
    trend5y: { labels: ['Q1 20','Q2 20','Q3 20','Q4 20','2021','2022','2023','2024'], values: [-2.5,-19.4,17.6,1.3,8.7,4.3,0.1,1.1] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'], values: [2.4,1.8,1.7,1.3,1.6,-11.0,8.7,4.3,0.1,1.1] },
    stats: [{l:'Latest QoQ',v:'+0.1%',c:'green'},{l:'2024 Annual',v:'+1.1%',c:'amber'},{l:'Covid Trough',v:'−19.4%',c:'red'},{l:'G7 Rank 2024',v:'4th',c:''},{l:'OBR Forecast 25',v:'+1.5%',c:'green'}]
  },
  gilt10: {
    title: '10-Year Gilt Yield', sub: 'UK Sovereign Bond (Benchmark) | BoE Database', color: '#00b8d9', unit: '%',
    recent: { labels: ['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'], values: [4.15,4.00,4.18,4.25,4.18,4.10,4.00,3.95,4.20,4.40,4.55,4.65] },
    trend2y: { labels: ['Feb 23','May 23','Aug 23','Nov 23','Feb 24','May 24','Aug 24','Nov 24','Feb 25'], values: [3.85,3.75,4.70,3.70,4.15,4.25,3.95,4.20,4.65] },
    trend5y: { labels: ['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'], values: [0.75,0.28,0.97,3.40,3.85,4.65] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'], values: [1.96,1.24,1.19,1.28,0.82,0.28,0.97,3.10,3.97,4.10,4.65] },
    stats: [{l:'Current Yield',v:'4.65%',c:'blue'},{l:'2023 High',v:'4.75%',c:'red'},{l:'2020 Low',v:'0.28%',c:'green'},{l:'Real Yield (ex-CPI)',v:'+1.65%',c:'blue'},{l:'vs US 10yr',v:'−0.55pp',c:''}]
  },
  gilt30: {
    title: '30-Year Gilt Yield', sub: 'UK Long-Dated Sovereign Bond | BoE Database', color: '#ffa502', unit: '%',
    recent: { labels: ['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'], values: [4.38,4.22,4.40,4.48,4.40,4.30,4.22,4.18,4.42,4.65,4.88,5.20] },
    trend2y: { labels: ['Feb 23','May 23','Aug 23','Nov 23','Feb 24','May 24','Aug 24','Nov 24','Feb 25'], values: [3.90,3.82,4.85,3.92,4.38,4.45,4.18,4.42,5.20] },
    trend5y: { labels: ['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'], values: [1.15,0.88,1.15,3.65,4.20,5.20] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'], values: [2.60,1.82,1.78,1.75,1.40,0.88,1.10,3.55,4.35,4.50,5.20] },
    stats: [{l:'Current Yield',v:'5.20%',c:'red'},{l:'2025 High',v:'5.47%',c:'red'},{l:'2020 Low',v:'0.88%',c:'green'},{l:'vs 10yr Spread',v:'+0.55%',c:'amber'},{l:'Yield Curve Signal',v:'STEEPENING',c:'amber'}]
  },
  youth: {
    title: 'Youth Unemployment Rate (16–24)', sub: 'ILO Definition | ONS Labour Force Survey', color: '#ff4757', unit: '%',
    recent: { labels: ['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'], values: [13.5,14.0,14.5,14.2,13.8,13.5,13.0,13.2,14.0,14.2,14.5,14.2] },
    trend2y: { labels: ['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'], values: [11.5,12.0,13.5,13.2,14.5,13.8,13.2,14.2] },
    trend5y: { labels: ['2020','2021','2022','2023','2024','2025'], values: [16.0,14.5,11.5,11.8,14.0,14.2] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'], values: [16.0,13.8,12.2,11.5,11.3,16.0,14.5,11.5,11.8,14.0,14.2] },
    stats: [{l:'Current Rate',v:'14.2%',c:'red'},{l:'Overall Rate',v:'4.4%',c:'amber'},{l:'Youth/Adult Ratio',v:'3.2×',c:'red'},{l:'Pre-Covid Low',v:'11.3%',c:'green'},{l:'EU Average',v:'15.8%',c:''}]
  },
  neet: {
    title: 'NEET Rate — Young People 16 to 24', sub: 'Not in Education, Employment or Training | ONS Quarterly', color: '#ff4757', unit: '%',
    recent: { labels: ['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'], values: [11.6,11.1,11.3,11.0,11.2,11.5,11.8,11.5,12.2,11.8,11.5,11.8] },
    trend2y: { labels: ['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'], values: [11.2,11.5,11.8,11.5,12.2,11.8,11.5,11.8] },
    trend5y: { labels: ['2020','2021','2022','2023','2024'], values: [13.0,12.0,11.2,11.5,11.8] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'], values: [13.8,13.0,12.5,12.0,11.8,13.0,12.0,11.2,11.5,11.8] },
    stats: [{l:'Current Rate',v:'11.8%',c:'amber'},{l:'Estimated Total',v:'787k',c:'red'},{l:'2015 High',v:'13.8%',c:'red'},{l:'2022 Low',v:'11.0%',c:'green'},{l:'YoY Change',v:'+0.3pp',c:'red'}]
  },
  currentaccount: {
    title: 'UK Current Account Balance', sub: '% of GDP | ONS Balance of Payments | Quarterly', color: '#ff4757', unit: '%',
    recent: { labels: ['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'], values: [-1.5,-5.0,-4.0,-2.8,-2.2,-3.0,-2.8,-2.5,-2.0,-2.8,-2.8,-2.8] },
    trend2y: { labels: ['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'], values: [-2.2,-3.0,-2.8,-2.5,-2.0,-2.8,-2.8,-2.8] },
    trend5y: { labels: ['2020','2021','2022','2023','2024'], values: [-2.8,-2.0,-3.2,-2.6,-2.8] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'], values: [-5.0,-5.8,-3.8,-3.9,-3.0,-2.8,-2.0,-3.2,-2.6,-2.8] },
    stats: [{l:'Latest',v:'−2.8%',c:'red'},{l:'Services Surplus',v:'+£16.8bn',c:'green'},{l:'Goods Deficit',v:'−£18.2bn',c:'red'},{l:'Deficit Since',v:'1984',c:'red'},{l:'Budget Deficit',v:'−4.1%',c:'red'}]
  },
  migration: {
    title: 'UK Net Migration (Annual Estimate)', sub: 'ONS International Migration Statistics | Thousands', color: '#ffa502', unit: 'k',
    recent: { labels: ['YE Jun 22','YE Sep 22','YE Dec 22','YE Mar 23','YE Jun 23','YE Sep 23','YE Dec 23','YE Mar 24','YE Jun 24'], values: [504,606,745,855,906,834,685,728,728] },
    trend2y: { labels: ['YE Jun 23','YE Sep 23','YE Dec 23','YE Mar 24','YE Jun 24'], values: [906,834,685,728,728] },
    trend5y: { labels: ['2019','2020','2021','2022','2023','2024'], values: [224,185,488,745,906,728] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'], values: [331,336,282,283,224,185,488,745,906,728] },
    stats: [{l:'Net Migration',v:'728k',c:'red'},{l:'Immigration',v:'1,218k',c:'red'},{l:'Emigration',v:'490k',c:'green'},{l:'2023 Peak',v:'906k',c:'red'},{l:'Pre-Brexit Avg',v:'~280k',c:''}]
  },
  debt: {
    title: 'Public Sector Net Debt (% of GDP)', sub: 'Excl. Bank of England | ONS Public Sector Finances (HF6X)', color: '#ff4757', unit: '%',
    recent: { labels: ['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'], values: [96.8,97.2,97.8,98.0,98.2,98.8,99.0,98.5,98.2,98.5,98.4,98.4] },
    trend2y: { labels: ['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'], values: [99.2,99.8,100.2,97.5,97.0,98.0,99.0,98.4] },
    trend5y: { labels: ['2020','2021','2022','2023','2024','2025'], values: [85.2,95.8,96.8,97.5,98.0,98.4] },
    trend10y: { labels: ['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'], values: [79.0,82.1,84.2,84.8,83.9,85.2,95.8,96.8,97.5,98.0,98.4] },
    stats: [{l:'Current',v:'98.4%',c:'red'},{l:'Total Debt £',v:'£2,741bn',c:'red'},{l:'Annual Interest',v:'£93.8bn',c:'red'},{l:'2008 Level',v:'~43%',c:'green'},{l:'OBR 2028 Forecast',v:'99.4%',c:'red'}]
  },

  // --- ECONOMIC TAB ---
  cpi12:   { title:'CPI 12-Month Rate', sub:'Consumer Price Index | ONS MM23 (D7G7)', color:'#ffa502', unit:'%',
    recent:   {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[3.4,3.2,2.3,2.0,2.0,2.2,2.2,1.7,2.3,2.6,2.5,3.0]},
    trend2y:  {labels:['Feb 23','Apr','Jun','Aug','Oct','Dec','Feb 24','Apr','Jun','Aug','Oct','Dec','Jan 25'],values:[10.4,8.7,7.9,6.8,4.6,4.0,3.4,2.3,2.0,2.2,2.3,2.5,3.0]},
    trend5y:  {labels:['Jan 20','Jul 20','Jan 21','Jul 21','Jan 22','Jul 22','Jan 23','Jul 23','Jan 24','Jul 24','Jan 25'],values:[1.8,1.0,0.7,2.1,5.4,10.1,10.1,6.8,4.0,2.2,3.0]},
    trend10y: {labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[0.0,0.7,2.7,2.5,1.8,0.9,2.5,9.1,7.3,2.5,3.0]},
    stats:[{l:'Current',v:'3.0%',c:'amber'},{l:'BoE Target',v:'2.0%',c:''},{l:'Peak Oct 22',v:'11.1%',c:'red'},{l:'Pre-Covid Avg',v:'1.8%',c:'green'},{l:'MoM Change',v:'+0.5pp',c:'red'}]},
  cpimom:  { title:'CPI Month-on-Month Change', sub:'Monthly change in Consumer Price Index | ONS MM23', color:'#ffa502', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[0.6,-0.6,0.3,0.3,-0.1,0.4,-0.3,0.0,0.6,0.1,0.3,0.5]},
    trend2y: {labels:['Feb 23','Apr','Jun','Aug','Oct','Dec','Feb 24','Apr','Jun','Aug','Oct','Dec','Jan 25'],values:[1.1,-0.8,-0.1,0.4,-0.2,0.4,0.6,0.3,-0.1,0.4,0.6,0.3,0.5]},
    trend5y: {labels:['Jan 20','Jul 20','Jan 21','Jul 21','Jan 22','Jul 22','Jan 23','Jul 23','Jan 24','Jul 24','Jan 25'],values:[0.1,-0.4,0.1,0.5,0.5,0.5,0.5,-0.4,0.6,-0.1,0.5]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[0.0,0.1,0.1,0.2,0.2,-0.1,0.3,0.8,0.6,0.2,0.5]},
    stats:[{l:'Latest MoM',v:'+0.5%',c:'red'},{l:'Prior Month',v:'+0.3%',c:'amber'},{l:'Annual Avg',v:'+0.2%',c:''},{l:'Highest MoM 22',v:'+1.1%',c:'red'},{l:'YoY 12m Avg',v:'+0.3%',c:'amber'}]},
  cpih:    { title:'CPIH (CPI incl. Owner-Occupier Costs)', sub:'ONS MM23 | Includes housing costs', color:'#ffa502', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[3.8,3.8,2.9,2.8,2.8,3.1,3.1,2.6,3.2,3.5,3.5,3.9]},
    trend2y: {labels:['Feb 23','Apr','Jun','Aug','Oct','Dec','Feb 24','Apr','Jun','Aug','Oct','Dec','Jan 25'],values:[10.1,8.3,7.8,6.9,4.7,4.2,3.8,2.9,2.8,3.1,3.2,3.5,3.9]},
    trend5y: {labels:['Jan 20','Jul 20','Jan 21','Jul 21','Jan 22','Jul 22','Jan 23','Jul 23','Jan 24','Jul 24','Jan 25'],values:[1.9,1.0,0.9,2.3,5.5,9.4,9.3,6.9,4.2,3.1,3.9]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[0.6,1.0,2.4,2.3,1.8,0.8,2.4,8.9,6.8,3.1,3.9]},
    stats:[{l:'Current CPIH',v:'3.9%',c:'amber'},{l:'vs CPI',v:'+0.9pp',c:'red'},{l:'Housing Weight',v:'~17%',c:''},{l:'Peak Oct 22',v:'9.6%',c:'red'},{l:'Pre-Covid',v:'1.9%',c:'green'}]},
  corecpi: { title:'Core CPI (excl. Food &amp; Energy)', sub:'Underlying inflationary pressure | ONS', color:'#ffa502', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[4.5,4.2,3.9,3.5,3.5,3.3,3.6,3.2,3.3,3.5,3.2,3.7]},
    trend2y: {labels:['Feb 23','Apr','Jun','Aug','Oct','Dec','Feb 24','Apr','Jun','Aug','Oct','Dec','Jan 25'],values:[6.2,6.8,6.9,6.8,5.7,5.1,4.5,3.9,3.5,3.3,3.3,3.2,3.7]},
    trend5y: {labels:['Jan 20','Jul 20','Jan 21','Jul 21','Jan 22','Jul 22','Jan 23','Jul 23','Jan 24','Jul 24','Jan 25'],values:[1.6,1.0,1.4,2.4,4.4,6.2,5.8,6.9,5.1,3.3,3.7]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[1.0,1.2,2.4,1.9,1.7,1.4,2.9,6.2,6.2,3.5,3.7]},
    stats:[{l:'Core CPI',v:'3.7%',c:'amber'},{l:'vs Headline CPI',v:'+0.7pp',c:'amber'},{l:'Peak Peak 23',v:'7.1%',c:'red'},{l:'Pre-Covid',v:'1.7%',c:'green'},{l:'Signal',v:'STICKY',c:'red'}]},
  boerate: { title:'BoE Official Bank Rate', sub:'Monetary Policy Committee | Bank of England', color:'#00b8d9', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[5.25,5.25,5.25,5.25,5.25,5.25,5.25,5.00,5.00,4.75,4.75,4.75]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[4.00,4.50,5.25,5.25,5.25,5.25,5.00,4.75,4.75]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[0.75,0.10,0.25,3.50,5.25,4.75]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[0.50,0.25,0.50,0.75,0.75,0.10,0.10,2.25,5.25,4.75,4.75]},
    stats:[{l:'Current',v:'4.75%',c:'blue'},{l:'Peak Aug 23',v:'5.25%',c:'red'},{l:'Covid Floor',v:'0.10%',c:'green'},{l:'Cuts Since Peak',v:'−0.50pp',c:'green'},{l:'Mkt Implied 25 End',v:'4.25%',c:'blue'}]},
  gilt2:   { title:'2-Year Gilt Yield', sub:'Short-dated UK Sovereign Bond | BoE Database', color:'#7a8fa6', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[4.22,4.18,4.30,4.35,4.20,4.05,3.80,3.65,3.95,4.18,4.30,4.35]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[3.65,4.22,5.28,4.60,4.22,4.35,3.80,4.18,4.35]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[0.58,0.05,0.64,3.35,4.22,4.35]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[0.83,0.19,0.46,0.73,0.73,0.05,0.25,3.00,4.45,4.22,4.35]},
    stats:[{l:'2yr Yield',v:'4.35%',c:'blue'},{l:'vs BoE Rate',v:'−0.40pp',c:'green'},{l:'vs 10yr',v:'−0.30pp',c:''},{l:'2yr High Aug 23',v:'5.28%',c:'red'},{l:'Signal',v:'INVERTED',c:'amber'}]},
  gilt10ec:{ title:'10-Year Gilt Yield', sub:'Benchmark UK Sovereign Bond | BoE Database | IUMAJNB', color:'#00b8d9', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[4.15,4.00,4.18,4.25,4.18,4.10,4.00,3.95,4.20,4.40,4.55,4.65]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[3.85,3.75,4.70,3.70,4.15,4.25,3.95,4.20,4.65]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[0.75,0.28,0.97,3.40,3.85,4.65]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[1.96,1.24,1.19,1.28,0.82,0.28,0.97,3.10,3.97,4.10,4.65]},
    stats:[{l:'Current',v:'4.65%',c:'blue'},{l:'2023 High',v:'4.75%',c:'red'},{l:'2020 Low',v:'0.28%',c:'green'},{l:'Real Yield',v:'+1.65%',c:'blue'},{l:'vs US 10yr',v:'−0.55pp',c:''}]},
  gilt30ec:{ title:'30-Year Gilt Yield', sub:'Long-Dated UK Sovereign Bond | BoE Database | IUMAMNB', color:'#ffa502', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[4.38,4.22,4.40,4.48,4.40,4.30,4.22,4.18,4.42,4.65,4.88,5.20]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[3.90,3.82,4.85,3.92,4.38,4.45,4.18,4.42,5.20]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[1.15,0.88,1.15,3.65,4.20,5.20]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[2.60,1.82,1.78,1.75,1.40,0.88,1.10,3.55,4.35,4.50,5.20]},
    stats:[{l:'Current',v:'5.20%',c:'red'},{l:'2025 High',v:'5.47%',c:'red'},{l:'2020 Low',v:'0.88%',c:'green'},{l:'vs 10yr Spread',v:'+0.55%',c:'amber'},{l:'Yield Curve',v:'STEEPENING',c:'amber'}]},
  mort2:   { title:'2-Year Fixed Mortgage Rate (75% LTV)', sub:'Average new mortgage rate | BoE Mortgage Lenders Data', color:'#ff4757', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[5.82,5.74,5.80,5.68,5.60,5.52,5.38,5.22,5.42,5.50,5.48,5.45]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[4.52,5.24,6.18,5.56,5.82,5.68,5.38,5.50,5.45]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[1.95,1.88,1.95,4.52,5.82,5.45]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[2.50,2.05,2.05,2.18,2.00,1.88,2.04,4.50,5.30,5.00,5.45]},
    stats:[{l:'Current Rate',v:'5.45%',c:'red'},{l:'Peak Aug 23',v:'6.18%',c:'red'},{l:'Pre-Rate Rise (21)',v:'1.88%',c:'green'},{l:'vs BoE Rate',v:'+0.70pp',c:'amber'},{l:'Monthly Cost £200k',v:'~£1,210',c:'red'}]},
  mort5:   { title:'5-Year Fixed Mortgage Rate (75% LTV)', sub:'Average new mortgage rate | BoE Mortgage Lenders Data', color:'#ffa502', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[5.42,5.30,5.34,5.25,5.15,5.10,4.95,4.82,5.02,5.12,5.18,5.15]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[4.18,4.88,5.82,5.38,5.42,5.25,4.95,5.12,5.15]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[2.12,2.04,2.12,4.18,5.42,5.15]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[3.00,2.52,2.40,2.58,2.35,2.04,2.18,4.10,5.08,4.80,5.15]},
    stats:[{l:'Current Rate',v:'5.15%',c:'amber'},{l:'vs 2yr Fixed',v:'−0.30pp',c:'green'},{l:'Peak Aug 23',v:'5.82%',c:'red'},{l:'Pre-Rate Rise (21)',v:'2.04%',c:'green'},{l:'Monthly Cost £200k',v:'~£1,190',c:'amber'}]},
  svr:     { title:'Standard Variable Rate (SVR)', sub:'Lender SVR average | Bank of England', color:'#ff4757', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[8.18,8.18,8.18,8.18,8.18,8.18,8.04,7.89,7.89,8.15,8.15,8.15]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[7.12,7.38,7.92,8.00,8.18,8.18,8.04,8.15,8.15]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[4.35,4.20,4.24,5.90,8.18,8.15]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[4.68,4.38,4.38,4.50,4.50,4.20,4.22,5.00,7.50,8.15,8.15]},
    stats:[{l:'SVR',v:'8.15%',c:'red'},{l:'vs BoE Rate',v:'+3.40pp',c:'red'},{l:'Borrowers on SVR',v:'~800k',c:'red'},{l:'Pre-Crisis SVR',v:'~4.2%',c:'green'},{l:'Extra Monthly Cost',v:'~£280',c:'red'}]},
  approvals:{ title:'Mortgage Approvals (Monthly)', sub:'New mortgages approved | Bank of England', color:'#00b8d9', unit:'k',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[60.4,61.3,61.1,62.5,59.9,62.0,65.6,65.6,68.3,69.1,66.5,65.7]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[43.5,51.1,45.4,50.1,60.4,62.5,65.6,68.3,65.7]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[70.1,99.1,73.8,43.5,60.4,65.7]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[60.8,67.6,65.5,63.8,65.2,52.8,76.3,72.0,44.1,61.0,65.7]},
    stats:[{l:'Latest Monthly',v:'65.7k',c:'blue'},{l:'YoY Change',v:'+49.3%',c:'green'},{l:'2023 Low',v:'40.5k',c:'red'},{l:'Pre-Covid Avg',v:'~65k',c:'green'},{l:'Peak 2021',v:'99.1k',c:'blue'}]},
  gfk:     { title:'GfK Consumer Confidence Index', sub:'Monthly survey | GfK / ONS | 0 = neutral, negative = pessimistic', color:'#ff4757', unit:'',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[-21,-20,-22,-17,-17,-13,-13,-20,-21,-19,-17,-16]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25','Jun 25','Nov 25','Jan 26'],values:[-38,-27,-25,-24,-21,-17,-13,-18,-22,-18,-19,-16]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25','Jan 26'],values:[-9,-28,-34,-38,-21,-22,-16]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025','2026'],values:[4,-4,-10,-9,-14,-34,-9,-35,-38,-21,-17,-16]},
    stats:[{l:'Current',v:'−16',c:'amber'},{l:'Neutral',v:'0',c:''},{l:'Record Low (2022)',v:'−49',c:'red'},{l:'Pre-Covid',v:'~−9',c:'green'},{l:'Post-GFC Low',v:'−39',c:'red'}]},
  gfk2:    { title:'GfK Consumer Confidence Index', sub:'Monthly survey | GfK / ONS | 0 = neutral, negative = pessimistic', color:'#ff4757', unit:'', recent:{labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[-21,-20,-22,-17,-17,-13,-13,-20,-21,-18,-17,-22]}, trend2y:{labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[-38,-27,-25,-24,-21,-17,-13,-18,-22]}, trend5y:{labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[-9,-28,-34,-38,-21,-22]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[4,-4,-10,-9,-14,-34,-9,-35,-38,-21,-22]}, stats:[{l:'Current',v:'−22',c:'red'},{l:'Neutral',v:'0',c:''},{l:'Record Low (2022)',v:'−49',c:'red'},{l:'Pre-Covid',v:'~−9',c:'green'},{l:'Post-GFC Low',v:'−39',c:'red'}] },
  unemp2:  { title:'UK Unemployment Rate', sub:'ILO Definition, 16+ | ONS Labour Force Survey (MGSX)', color:'#00d084', unit:'%', recent:{labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[3.9,4.2,4.4,4.4,4.2,4.1,4.1,4.0,4.3,4.4,4.4,4.4]}, trend2y:{labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[3.8,3.9,4.3,3.9,4.2,4.4,4.1,4.4]}, trend5y:{labels:['2020','2021','2022','2023','2024','2025'],values:[4.5,4.5,3.7,4.2,4.4,4.4]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[5.4,4.9,4.4,4.1,3.8,4.5,4.5,3.7,4.2,4.4,4.4]}, stats:[{l:'Current',v:'4.4%',c:'amber'},{l:'Covid Peak',v:'5.2%',c:'red'},{l:'50yr Low (2022)',v:'3.5%',c:'green'},{l:'Claimant Count',v:'1.78m',c:'amber'},{l:'EU Avg',v:'5.9%',c:''}] },
  youth2:  { title:'Youth Unemployment Rate (16–24)', sub:'ILO Definition | ONS Labour Force Survey', color:'#ff4757', unit:'%', recent:{labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[13.5,14.0,14.5,14.2,13.8,13.5,13.0,13.2,14.0,14.2,14.5,14.2]}, trend2y:{labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[11.5,12.0,13.5,13.2,14.5,13.8,13.2,14.2]}, trend5y:{labels:['2020','2021','2022','2023','2024','2025'],values:[16.0,14.5,11.5,11.8,14.0,14.2]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[16.0,13.8,12.2,11.5,11.3,16.0,14.5,11.5,11.8,14.0,14.2]}, stats:[{l:'Current Rate',v:'14.2%',c:'red'},{l:'Overall Rate',v:'4.4%',c:'amber'},{l:'Youth/Adult Ratio',v:'3.2×',c:'red'},{l:'Pre-Covid Low',v:'11.3%',c:'green'},{l:'EU Average',v:'15.8%',c:''}] },
  emprate: { title:'Employment Rate (16–64)', sub:'Proportion in work | ONS Labour Force Survey', color:'#00d084', unit:'%', recent:{labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[75.0,74.5,74.2,74.5,74.8,74.8,74.8,74.8,74.8,74.8,74.8,74.8]}, trend2y:{labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[75.8,75.5,75.0,74.5,74.5,74.8,74.8,74.8]}, trend5y:{labels:['2020','2021','2022','2023','2024'],values:[76.2,75.2,75.8,75.5,74.8]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[73.2,74.1,74.8,75.2,76.1,76.2,75.2,75.8,75.5,74.8]}, stats:[{l:'Current',v:'74.8%',c:'green'},{l:'Pre-Covid Peak',v:'76.2%',c:'green'},{l:'Covid Low',v:'74.5%',c:''},{l:'Inactivity Rate',v:'21.8%',c:'amber'},{l:'Long-term Sick',v:'2.7m',c:'red'}] },
  inactive: { title:'Economic Inactivity Rate (16–64)', sub:'Not working and not seeking work | ONS LFS', color:'#ffa502', unit:'%', recent:{labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[21.0,21.5,21.8,21.5,21.5,21.8,21.8,21.8,21.8,21.8,21.8,21.8]}, trend2y:{labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[21.0,21.2,21.5,21.8,21.5,21.5,21.8,21.8]}, trend5y:{labels:['2020','2021','2022','2023','2024'],values:[20.5,21.0,20.8,21.2,21.8]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[22.1,21.5,21.0,20.8,20.8,20.5,21.0,20.8,21.2,21.8]}, stats:[{l:'Current Rate',v:'21.8%',c:'amber'},{l:'Long-term Sick',v:'2.8m',c:'red'},{l:'Caring Duties',v:'~2.0m',c:''},{l:'Pre-Covid',v:'20.5%',c:'green'},{l:'Trend',v:'RISING',c:'red'}] },

  // --- CONSUMER HEALTH ---
  indinsol:{ title:'Individual Insolvencies (Monthly)', sub:'England & Wales | Insolvency Service', color:'#ff4757', unit:'',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[8050,7900,8200,8550,8750,9100,8800,9050,9100,8900,9200,8942]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[7500,8100,8750,8200,8050,8550,8800,8900,8942]},
    trend5y: {labels:['2020','2021','2022','2023','2024','2025'],values:[6500,5800,8900,9200,8942,8942]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[9200,10100,10800,10200,9700,6500,5800,8900,9200,8942]},
    stats:[{l:'Monthly (Jan 25)',v:'8,942',c:'red'},{l:'YoY Change',v:'+11.1%',c:'red'},{l:'Covid Low',v:'5,800',c:'green'},{l:'IVAs',v:'~4,500/mo',c:'red'},{l:'DROs',v:'~3,200/mo',c:'amber'}]},
  compinsol:{ title:'Company Insolvencies (Monthly)', sub:'England & Wales | Insolvency Service', color:'#ff4757', unit:'',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[2050,2100,2200,2250,2300,2350,2150,2200,2250,2180,2250,2187]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[1950,2150,2350,2100,2050,2250,2150,2180,2187]},
    trend5y: {labels:['2020','2021','2022','2023','2024','2025'],values:[1100,1500,2100,2500,2187,2187]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[2000,2200,2400,2400,2200,1100,1500,2100,2500,2187]},
    stats:[{l:'Monthly (Jan 25)',v:'2,187',c:'red'},{l:'YoY Change',v:'+6.7%',c:'red'},{l:'30yr High (2023)',v:'2,500',c:'red'},{l:'Covid Low',v:'1,100',c:'green'},{l:'Creditors Voluntary',v:'~1,800',c:'red'}]},
  arrears: { title:'Mortgage Arrears (3+ months)', sub:'% of outstanding mortgages | Bank of England', color:'#ffa502', unit:'%',
    recent:  {labels:['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[0.75,0.78,0.82,0.88,0.92,0.98,1.05,1.10,1.12,1.12,1.12,1.12]},
    trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[0.92,0.98,1.05,1.10,1.12,1.12,1.12,1.12]},
    trend5y: {labels:['2020','2021','2022','2023','2024'],values:[0.90,0.75,0.88,1.05,1.12]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[1.60,1.40,1.20,1.10,1.00,0.90,0.75,0.88,1.05,1.12]},
    stats:[{l:'Current',v:'1.12%',c:'amber'},{l:'Cases (est.)',v:'~90,000',c:'amber'},{l:'GFC Peak',v:'~3.6%',c:'red'},{l:'2021 Low',v:'0.75%',c:'green'},{l:'Trend',v:'RISING',c:'red'}]},
  possession:{ title:'Properties Taken Into Possession', sub:'Quarterly | UK Finance mortgage lender data', color:'#ffa502', unit:'',
    recent:  {labels:['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[1200,1400,1600,1800,1950,2100,2200,2400,2500,2560,2560,2560]},
    trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[1950,2100,2200,2400,2500,2560,2560,2560]},
    trend5y: {labels:['2020','2021','2022','2023','2024'],values:[4700,980,1600,2400,2560]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[8200,6100,4800,3800,3200,4700,980,1600,2400,2560]},
    stats:[{l:'Latest Quarterly',v:'2,560',c:'amber'},{l:'YoY Change',v:'+6.7%',c:'red'},{l:'GFC Peak 2009',v:'~48,000',c:'red'},{l:'2021 Low',v:'980',c:'green'},{l:'Trend',v:'RISING',c:'red'}]},

  // --- FISCAL ---
  debtgdp: { title:'Public Sector Net Debt (% of GDP)', sub:'Excl. Bank of England | ONS Public Sector Finances (HF6X)', color:'#ff4757', unit:'%',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[96.8,97.2,97.8,98.0,98.2,98.8,99.0,98.5,98.2,98.5,98.4,98.4]},
    trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[99.2,99.8,100.2,97.5,97.0,98.0,99.0,98.4]},
    trend5y: {labels:['2020','2021','2022','2023','2024','2025'],values:[85.2,95.8,96.8,97.5,98.0,98.4]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[79.0,82.1,84.2,84.8,83.9,85.2,95.8,96.8,97.5,98.0,98.4]},
    stats:[{l:'Current',v:'98.4%',c:'red'},{l:'Absolute £',v:'£2,741bn',c:'red'},{l:'Annual Interest',v:'£93.8bn',c:'red'},{l:'2008 Level',v:'~43%',c:'green'},{l:'OBR 2028 Forecast',v:'99.4%',c:'red'}]},
  debtabs: { title:'Public Sector Net Debt (£bn)', sub:'Absolute value | ONS Public Sector Finances', color:'#ff4757', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[2680,2695,2700,2710,2720,2728,2735,2738,2740,2740,2741,2741]},
    trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[2590,2610,2640,2660,2680,2710,2735,2741]},
    trend5y: {labels:['2020','2021','2022','2023','2024','2025'],values:[2100,2200,2400,2540,2700,2741]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[1500,1600,1680,1760,1820,2100,2200,2400,2540,2741]},
    stats:[{l:'Current',v:'£2,741bn',c:'red'},{l:'Per Household',v:'~£96,000',c:'red'},{l:'% GDP',v:'98.4%',c:'red'},{l:'2015 Level',v:'£1,500bn',c:'green'},{l:'Added Since 2019',v:'+£921bn',c:'red'}]},
  interestm:{ title:'Monthly Debt Interest Payments', sub:'Central government interest | ONS Public Sector Finances', color:'#ffa502', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[5.2,12.8,17.1,5.8,9.0,5.2,5.8,12.4,7.0,7.5,9.1,7.5]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[8.1,13.0,6.1,8.8,5.2,5.8,5.8,7.5,7.5]},
    trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jan 25'],values:[3.8,3.5,5.5,8.1,5.2,7.5]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[3.6,3.4,3.6,4.0,4.1,3.8,3.5,7.0,9.5,7.5]},
    stats:[{l:'Latest Monthly',v:'£7.5bn',c:'amber'},{l:'Rolling Annual',v:'£93.8bn',c:'red'},{l:'Per Day',v:'~£257m',c:'red'},{l:'2021 Monthly Avg',v:'~£3.5bn',c:'green'},{l:'% of Tax Receipts',v:'~9.3%',c:'red'}]},
  interesta:{ title:'Annual Debt Interest (Rolling 12 Months)', sub:'Total annual cost of government debt | ONS PSF', color:'#ffa502', unit:'bn',
    recent:  {labels:['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[44,62,80,90,95,102,97,96,93,90,92,93.8]},
    trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[95,102,97,96,93,90,92,93.8]},
    trend5y: {labels:['2020','2021','2022','2023','2024','2025'],values:[41,38,60,96,92,93.8]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[40,42,42,43,44,41,38,60,96,92]},
    stats:[{l:'Annual Interest',v:'£93.8bn',c:'red'},{l:'Per Household',v:'~£3,300',c:'red'},{l:'% of Spending',v:'~7.8%',c:'red'},{l:'2021 Total',v:'£38bn',c:'green'},{l:'Largest Since',v:'1980s',c:'red'}]},
  borrowing:{ title:'Public Sector Net Borrowing (Monthly)', sub:'PSNB excl. public sector banks | ONS PSF', color:'#ff4757', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[12.5,21.2,-14.8,14.0,14.0,-1.3,15.5,13.7,17.4,15.4,20.3,18.1]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[11.0,14.0,4.5,13.5,12.5,14.0,15.5,15.4,18.1]},
    trend5y: {labels:['FY20','FY21','FY22','FY23','FY24','FY25 Proj'],values:[318,319,55,128,122,130]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[103,90,72,58,55,318,319,55,128,122]},
    stats:[{l:'Jan 2025',v:'£18.1bn',c:'red'},{l:'Full Year FY24',v:'£122bn',c:'red'},{l:'FY25 OBR Forecast',v:'£127bn',c:'red'},{l:'Lowest FY (2019)',v:'£55bn',c:'green'},{l:'Covid Peak FY21',v:'£319bn',c:'red'}]},
  taxreceipts:{ title:'Total Tax Receipts (Monthly)', sub:'HMRC / ONS Public Sector Finances — all tax types', color:'#00b8d9', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[71.2,86.5,88.2,75.5,72.8,68.8,73.5,75.2,83.2,76.5,82.1,81.0]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[66.5,72.5,66.5,74.0,71.2,75.5,73.5,76.5,81.0]},
    trend5y: {labels:['FY20','FY21','FY22','FY23','FY24','FY25 Proj'],values:[640,580,780,840,900,935]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[540,560,590,620,640,640,580,780,840,900]},
    stats:[{l:'Latest Monthly',v:'£81.0bn',c:'blue'},{l:'Full Year FY24',v:'£900bn',c:'blue'},{l:'YoY Change',v:'+3.2%',c:'green'},{l:'Income Tax Share',v:'27%',c:''},{l:'VAT Share',v:'21%',c:''}]},
  deficit:  { title:'Budget Deficit (% of GDP)', sub:'Full year outturn | ONS Public Sector Finances', color:'#ff4757', unit:'%',
    recent:  {labels:['FY17','FY18','FY19','FY20','FY21','FY22','FY23','FY24'],values:[-2.4,-2.0,-1.8,-2.2,-14.8,-2.0,-5.3,-4.5]},
    trend2y: {labels:['FY23','FY24','FY25 Proj'],values:[-5.3,-4.5,-4.1]},
    trend5y: {labels:['FY20','FY21','FY22','FY23','FY24','FY25 Proj'],values:[-2.2,-14.8,-2.0,-5.3,-4.5,-4.1]},
    trend10y:{labels:['FY15','FY16','FY17','FY18','FY19','FY20','FY21','FY22','FY23','FY24'],values:[-4.9,-3.5,-2.4,-2.0,-1.8,-2.2,-14.8,-2.0,-5.3,-4.5]},
    stats:[{l:'FY24 Outturn',v:'−4.5%',c:'red'},{l:'OBR FY25 Forecast',v:'−4.1%',c:'red'},{l:'Maastricht Limit',v:'−3.0%',c:'amber'},{l:'2019 Pre-Covid',v:'−1.8%',c:'green'},{l:'Borrowing (£bn)',v:'£122bn',c:'red'}]},
  incometax:{ title:'Income Tax Receipts (Monthly)', sub:'HMRC self-assessment + PAYE | ONS PSF', color:'#00b8d9', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[18.2,22.4,25.8,18.2,17.4,16.5,19.2,20.1,22.8,19.8,21.5,21.8]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[16.5,17.0,16.5,18.5,18.2,18.2,19.2,19.8,21.8]},
    trend5y: {labels:['FY20','FY21','FY22','FY23','FY24','FY25 Proj'],values:[195,180,225,250,280,295]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[158,164,170,178,188,195,180,225,250,280]},
    stats:[{l:'Latest Monthly',v:'£21.8bn',c:'blue'},{l:'Full Year FY24',v:'£280bn',c:'blue'},{l:'YoY',v:'+4.2%',c:'green'},{l:'% of Total Tax',v:'~31%',c:''},{l:'Frozen Threshold',v:'To 2028',c:'red'}]},
  nics:     { title:'National Insurance Contributions (NICs)', sub:'Employee + Employer | HMRC / ONS PSF', color:'#00b8d9', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[12.5,15.2,16.8,12.5,11.8,11.0,13.0,13.8,15.5,13.5,14.8,14.2]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[11.8,12.5,11.0,13.2,12.5,12.5,13.0,13.5,14.2]},
    trend5y: {labels:['FY20','FY21','FY22','FY23','FY24','FY25 Proj'],values:[140,135,180,188,178,195]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[108,112,118,125,132,140,135,180,188,178]},
    stats:[{l:'Latest Monthly',v:'£14.2bn',c:'blue'},{l:'Full Year FY24',v:'£178bn',c:'blue'},{l:'Employee Rate',v:'8% / 2%',c:''},{l:'April 24 Cut',v:'−2pp to 8%',c:'green'},{l:'Employer Rate 25',v:'15% (+)',c:'red'}]},
  vat:      { title:'VAT Receipts (Monthly)', sub:'Value Added Tax | HMRC / ONS PSF', color:'#00b8d9', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[14.2,16.8,16.5,14.8,14.0,13.2,14.5,15.2,16.8,15.0,18.2,17.3]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[13.0,14.2,12.8,15.5,14.2,14.8,14.5,15.0,17.3]},
    trend5y: {labels:['FY20','FY21','FY22','FY23','FY24','FY25 Proj'],values:[136,125,165,180,190,198]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[114,118,122,128,132,136,125,165,180,190]},
    stats:[{l:'Latest Monthly',v:'£17.3bn',c:'blue'},{l:'Full Year FY24',v:'£190bn',c:'blue'},{l:'Standard Rate',v:'20%',c:''},{l:'YoY Change',v:'+5.6%',c:'green'},{l:'% of Total Tax',v:'~21%',c:''}]},
  corptax:  { title:'Corporation Tax Receipts', sub:'Business profit tax | HMRC / ONS PSF', color:'#00b8d9', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[8.5,12.5,15.2,8.2,7.8,7.0,9.5,9.8,12.5,9.8,10.5,10.1]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[7.5,10.8,8.5,10.0,8.5,8.2,9.5,9.8,10.1]},
    trend5y: {labels:['FY20','FY21','FY22','FY23','FY24','FY25 Proj'],values:[65,62,85,102,110,115]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[42,48,52,56,60,65,62,85,102,110]},
    stats:[{l:'Latest Monthly',v:'£10.1bn',c:'blue'},{l:'Full Year FY24',v:'£110bn',c:'blue'},{l:'Main Rate',v:'25%',c:''},{l:'Small Biz Rate',v:'19%',c:''},{l:'Rate Rise Apr 23',v:'19%→25%',c:'red'}]},
  tradegoods:{ title:'Trade Balance — Goods', sub:'Monthly goods exports minus imports | ONS', color:'#ff4757', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[-16.2,-17.8,-16.8,-17.5,-17.2,-16.8,-17.5,-18.0,-17.8,-18.2,-17.5,-18.2]},
    trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[-16.5,-17.2,-17.5,-17.0,-17.0,-17.5,-18.0,-18.2]},
    trend5y: {labels:['2020','2021','2022','2023','2024'],values:[-12.5,-14.0,-18.5,-17.0,-18.2]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[-10.5,-12.2,-12.5,-13.2,-11.5,-12.5,-14.0,-18.5,-17.0,-18.2]},
    stats:[{l:'Monthly Deficit',v:'−£18.2bn',c:'red'},{l:'Annual Total',v:'~−£218bn',c:'red'},{l:'Top Deficit Item',v:'Energy',c:'red'},{l:'Services Surplus',v:'+£16.8bn',c:'green'},{l:'Persistent Since',v:'1980s',c:'red'}]},
  tradeservices:{ title:'Trade Balance — Services', sub:'Monthly services exports minus imports | ONS', color:'#00d084', unit:'bn',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[14.5,15.2,15.8,16.2,15.8,16.0,16.5,17.0,16.8,17.2,16.5,16.8]},
    trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[13.5,14.8,15.5,15.8,15.2,16.2,16.5,16.8]},
    trend5y: {labels:['2020','2021','2022','2023','2024'],values:[9.2,11.5,13.5,15.0,16.8]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[8.5,8.8,9.0,9.5,10.2,9.2,11.5,13.5,15.0,16.8]},
    stats:[{l:'Monthly Surplus',v:'+£16.8bn',c:'green'},{l:'Annual Total',v:'~+£202bn',c:'green'},{l:'Financial Services',v:'Largest item',c:'green'},{l:'Post-Brexit Growth',v:'+24%',c:'green'},{l:'Net Trade Balance',v:'−£1.4bn',c:'amber'}]},
  currentacct:{ title:'Current Account Balance (% of GDP)', sub:'Trade + income + transfers | ONS Balance of Payments', color:'#ff4757', unit:'%',
    recent:  {labels:['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[-1.5,-5.0,-4.0,-2.8,-2.2,-3.0,-2.8,-2.5,-2.0,-2.8,-2.8,-2.8]},
    trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[-2.2,-3.0,-2.8,-2.5,-2.0,-2.8,-2.8,-2.8]},
    trend5y: {labels:['2020','2021','2022','2023','2024'],values:[-2.8,-2.0,-3.2,-2.6,-2.8]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[-5.0,-5.8,-3.8,-3.9,-3.0,-2.8,-2.0,-3.2,-2.6,-2.8]},
    stats:[{l:'Latest',v:'−2.8%',c:'red'},{l:'Services Surplus',v:'+£16.8bn/mo',c:'green'},{l:'Goods Deficit',v:'−£18.2bn/mo',c:'red'},{l:'Deficit Since',v:'1984',c:'red'},{l:'Budget Deficit',v:'−4.1%',c:'red'}]},
  twin:     { title:'Twin Deficit — Budget + Current Account', sub:'Both public finances and external balance in deficit', color:'#ff4757', unit:'',
    recent:  {labels:['FY18','FY19','FY20','FY21','FY22','FY23','FY24'],values:[5.9,4.8,17.0,16.8,5.2,9.9,8.6]},
    trend2y: {labels:['FY23','FY24','FY25 Proj'],values:[9.9,8.6,6.9]},
    trend5y: {labels:['FY20','FY21','FY22','FY23','FY24','FY25 Proj'],values:[17.0,16.8,5.2,9.9,8.6,6.9]},
    trend10y:{labels:['FY15','FY16','FY17','FY18','FY19','FY20','FY21','FY22','FY23','FY24'],values:[9.9,9.3,8.2,5.9,4.8,17.0,16.8,5.2,9.9,8.6]},
    stats:[{l:'Budget Deficit',v:'−4.1%',c:'red'},{l:'Current Acct Deficit',v:'−2.8%',c:'red'},{l:'Combined',v:'−6.9% of GDP',c:'red'},{l:'Both Negative',v:'YES',c:'red'},{l:'Since',v:'1984 (CA)',c:'red'}]},

  // --- SOCIAL ---
  neet2:    { title:'NEET Rate — Young People 16 to 24', sub:'Not in Education, Employment or Training | ONS Quarterly', color:'#ff4757', unit:'%', recent:{labels:['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[11.6,11.1,11.3,11.0,11.2,11.5,11.8,11.5,12.2,11.8,11.5,11.8]}, trend2y:{labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[11.2,11.5,11.8,11.5,12.2,11.8,11.5,11.8]}, trend5y:{labels:['2020','2021','2022','2023','2024'],values:[13.0,12.0,11.2,11.5,11.8]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[13.8,13.0,12.5,12.0,11.8,13.0,12.0,11.2,11.5,11.8]}, stats:[{l:'Current Rate',v:'11.8%',c:'amber'},{l:'Estimated Total',v:'787k',c:'red'},{l:'2015 High',v:'13.8%',c:'red'},{l:'2022 Low',v:'11.0%',c:'green'},{l:'YoY Change',v:'+0.3pp',c:'red'}] },
  neettotal: { title:'NEET Total Population (Thousands)', sub:'Estimated total 16–24 yr olds NEET | ONS', color:'#ff4757', unit:'k', recent:{labels:['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[730,710,725,705,710,735,760,740,780,755,740,787]}, trend2y:{labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[710,735,760,740,780,755,740,787]}, trend5y:{labels:['2020','2021','2022','2023','2024'],values:[850,780,720,740,787]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[900,880,860,830,815,850,780,720,740,787]}, stats:[{l:'Current Total',v:'787k',c:'red'},{l:'NEET Rate',v:'11.8%',c:'amber'},{l:'2022 Low',v:'705k',c:'green'},{l:'2015 High',v:'~900k',c:'red'},{l:'Trend',v:'RISING',c:'red'}] },
  youthunemp2: { title:'Youth Unemployment Rate (16–24)', sub:'ILO Definition | ONS Labour Force Survey', color:'#ff4757', unit:'%', recent:{labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[13.5,14.0,14.5,14.2,13.8,13.5,13.0,13.2,14.0,14.2,14.5,14.2]}, trend2y:{labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[11.5,12.0,13.5,13.2,14.5,13.8,13.2,14.2]}, trend5y:{labels:['2020','2021','2022','2023','2024','2025'],values:[16.0,14.5,11.5,11.8,14.0,14.2]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[16.0,13.8,12.2,11.5,11.3,16.0,14.5,11.5,11.8,14.0,14.2]}, stats:[{l:'Current Rate',v:'14.2%',c:'red'},{l:'Overall Rate',v:'4.4%',c:'amber'},{l:'Youth/Adult Ratio',v:'3.2×',c:'red'},{l:'Pre-Covid Low',v:'11.3%',c:'green'},{l:'EU Average',v:'15.8%',c:''}] },
  youthinactive: { title:'Youth Economic Inactivity (16–24)', sub:'Not working, not seeking work | ONS LFS', color:'#ff4757', unit:'%', recent:{labels:['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[37.5,37.2,37.8,38.0,38.2,38.5,38.8,39.0,39.2,39.2,39.2,39.2]}, trend2y:{labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[38.2,38.5,38.8,39.0,39.2,39.2,39.2,39.2]}, trend5y:{labels:['2020','2021','2022','2023','2024'],values:[38.0,37.0,37.5,38.5,39.2]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[36.0,36.5,36.8,37.0,37.2,38.0,37.0,37.5,38.5,39.2]}, stats:[{l:'Current Rate',v:'39.2%',c:'red'},{l:'In Education',v:'~29%',c:''},{l:'Long-term Sick',v:'~5%',c:'red'},{l:'NEET Overlap',v:'~12%',c:'red'},{l:'Trend',v:'RISING',c:'red'}] },
  pip:      { title:'Health / Disability Benefit Claimants', sub:'PIP + ESA working-age claimants | DWP Statistical Release', color:'#ff4757', unit:'k',
    recent:  {labels:['Q1 22','Q2 22','Q3 22','Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[5100,5280,5500,5700,5850,6000,6200,6350,6500,6650,6720,6800]},
    trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[5850,6000,6200,6350,6500,6650,6720,6800]},
    trend5y: {labels:['2020','2021','2022','2023','2024','2025'],values:[4900,4800,5300,6000,6800,6800]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[3100,3500,3800,4100,4400,4900,4800,5300,6000,6800]},
    stats:[{l:'Claimants',v:'6.8m',c:'red'},{l:'% Working Age',v:'~16%',c:'red'},{l:'Growth Since 2019',v:'+55%',c:'red'},{l:'Annual Cost',v:'~£70bn',c:'red'},{l:'Trend',v:'ACCELERATING',c:'red'}]},
  iapt:     { title:'NHS Talking Therapy Referrals (Monthly)', sub:'IAPT / NHS Talking Therapies | NHS England', color:'#ffa502', unit:'k',
    recent:  {labels:['Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan'],values:[182,188,185,192,196,198,202,190,188,192,190,189]},
    trend2y: {labels:['Feb 23','May','Aug','Nov','Feb 24','May','Aug','Nov','Feb 25'],values:[168,175,180,182,182,192,202,192,189]},
    trend5y: {labels:['2020','2021','2022','2023','2024','2025'],values:[95,120,148,168,190,189]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[68,80,100,118,138,95,120,148,168,190]},
    stats:[{l:'Monthly Referrals',v:'189k',c:'amber'},{l:'YoY Change',v:'+3.8%',c:'amber'},{l:'2015 Level',v:'68k',c:'green'},{l:'Recovery Rate',v:'~50%',c:''},{l:'Wait > 18 weeks',v:'~14%',c:'red'}]},
  camhs:    { title:'Children & Adolescent Mental Health (CAMHS)', sub:'Annual referrals to NHS CAMHS services | NHS England', color:'#ff4757', unit:'k',
    recent:  {labels:['FY18','FY19','FY20','FY21','FY22','FY23','FY24'],values:[380,420,350,500,600,680,740]},
    trend2y: {labels:['FY23','FY24'],values:[680,740]},
    trend5y: {labels:['FY20','FY21','FY22','FY23','FY24'],values:[350,500,600,680,740]},
    trend10y:{labels:['FY15','FY16','FY17','FY18','FY19','FY20','FY21','FY22','FY23','FY24'],values:[210,240,280,320,380,350,500,600,680,740]},
    stats:[{l:'Annual Referrals',v:'740k',c:'red'},{l:'Increase Since 2015',v:'+252%',c:'red'},{l:'Wait > 18 weeks',v:'~35%',c:'red'},{l:'Not Treated',v:'~25%',c:'red'},{l:'Trend',v:'RISING SHARPLY',c:'red'}]},
  immigration:{ title:'UK Immigration (Annual)', sub:'Total arrivals to UK | ONS International Migration Statistics', color:'#ff4757', unit:'k',
    recent:  {labels:['YE Jun 22','YE Sep 22','YE Dec 22','YE Mar 23','YE Jun 23','YE Sep 23','YE Dec 23','YE Mar 24','YE Jun 24'],values:[960,1050,1220,1340,1420,1350,1218,1200,1218]},
    trend2y: {labels:['YE Jun 23','YE Sep 23','YE Dec 23','YE Mar 24','YE Jun 24'],values:[1420,1350,1218,1200,1218]},
    trend5y: {labels:['2019','2020','2021','2022','2023','2024'],values:[640,590,860,1220,1420,1218]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[620,640,580,596,640,590,860,1220,1420,1218]},
    stats:[{l:'Annual Immigration',v:'1,218k',c:'red'},{l:'Net Migration',v:'728k',c:'red'},{l:'2023 Peak',v:'1,420k',c:'red'},{l:'Pre-Brexit Avg',v:'~580k',c:'green'},{l:'Non-EU Share',v:'~72%',c:''}]},
  emigration:{ title:'UK Emigration (Annual)', sub:'Total departures from UK | ONS International Migration Statistics', color:'#00d084', unit:'k',
    recent:  {labels:['YE Jun 22','YE Sep 22','YE Dec 22','YE Mar 23','YE Jun 23','YE Sep 23','YE Dec 23','YE Mar 24','YE Jun 24'],values:[390,420,455,480,510,520,490,480,490]},
    trend2y: {labels:['YE Jun 23','YE Sep 23','YE Dec 23','YE Mar 24','YE Jun 24'],values:[510,520,490,480,490]},
    trend5y: {labels:['2019','2020','2021','2022','2023','2024'],values:[416,405,372,455,510,490]},
    trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[289,304,298,313,416,405,372,455,510,490]},
    stats:[{l:'Annual Emigration',v:'490k',c:'green'},{l:'British Emigrating',v:'~185k',c:'amber'},{l:'Return Migration',v:'~200k',c:''},{l:'Pre-Covid Level',v:'~416k',c:'green'},{l:'Trend',v:'STABLE',c:'green'}]},
  netmig:   { title:'UK Net Migration (Annual Estimate)', sub:'ONS International Migration Statistics | Thousands', color:'#ffa502', unit:'k', recent:{labels:['YE Jun 22','YE Sep 22','YE Dec 22','YE Mar 23','YE Jun 23','YE Sep 23','YE Dec 23','YE Mar 24','YE Jun 24'],values:[504,606,745,855,906,834,685,728,728]}, trend2y:{labels:['YE Jun 23','YE Sep 23','YE Dec 23','YE Mar 24','YE Jun 24'],values:[906,834,685,728,728]}, trend5y:{labels:['2019','2020','2021','2022','2023','2024'],values:[224,185,488,745,906,728]}, trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[331,336,282,283,224,185,488,745,906,728]}, stats:[{l:'Net Migration',v:'728k',c:'red'},{l:'Immigration',v:'1,218k',c:'red'},{l:'Emigration',v:'490k',c:'green'},{l:'2023 Peak',v:'906k',c:'red'},{l:'Pre-Brexit Avg',v:'~280k',c:''}] },

  // --- POLITICS ---
  labour:      { title:'Labour Party — Voting Intention', sub:'Polling average — multiple pollsters', color:'#e4003b', unit:'%',
    recent:  {labels:['Sep 24','Oct 24','Nov 24','Dec 24','Jan 25','May 25','Sep 25','Nov 25','Jan 26','Feb 26'],values:[32,30,29,28,27,24,22,21,20,19]},
    trend2y: {labels:['Sep 24','Oct 24','Nov 24','Dec 24','Jan 25','May 25','Sep 25','Nov 25','Jan 26','Feb 26'],values:[32,30,29,28,27,24,22,21,20,19]},
    trend5y: {labels:['Feb 20','Feb 21','Feb 22','Feb 23','Feb 24','Feb 25','Feb 26'],values:[22,38,38,45,40,28,19]},
    trend10y:{labels:['2015','2017','2019','2021','2023','2025','2026'],values:[30,40,32,35,45,28,19]},
    stats:[{l:'Current',v:'19%',c:'red'},{l:'2024 Election',v:'33.7%',c:''},{l:'Seats (2024)',v:'412',c:'green'},{l:'Leader',v:'K. Starmer',c:''},{l:'1yr Change',v:'−9pp',c:'red'}]},
  reform:      { title:'Reform UK — Voting Intention', sub:'Polling average — multiple pollsters', color:'#12b6cf', unit:'%',
    recent:  {labels:['Sep 24','Oct 24','Nov 24','Dec 24','Jan 25','May 25','Sep 25','Nov 25','Jan 26','Feb 26'],values:[18,20,21,22,23,26,28,28,29,29]},
    trend2y: {labels:['Sep 24','Oct 24','Nov 24','Dec 24','Jan 25','May 25','Sep 25','Nov 25','Jan 26','Feb 26'],values:[18,20,21,22,23,26,28,28,29,29]},
    trend5y: {labels:['Feb 20','Feb 21','Feb 22','Feb 23','Feb 24','Feb 25','Feb 26'],values:[2,2,3,5,12,24,29]},
    trend10y:{labels:['2015','2017','2019','2021','2023','2025','2026'],values:[12,2,2,2,5,24,29]},
    stats:[{l:'Current',v:'29%',c:'blue'},{l:'2024 Election',v:'14.3%',c:''},{l:'Seats (2024)',v:'5',c:'amber'},{l:'Leader',v:'N. Farage',c:''},{l:'1yr Change',v:'+5pp',c:'green'}]},
  conservative:{ title:'Conservative Party — Voting Intention', sub:'Polling average — multiple pollsters', color:'#0087dc', unit:'%',
    recent:  {labels:['Sep 24','Oct 24','Nov 24','Dec 24','Jan 25','May 25','Sep 25','Nov 25','Jan 26','Feb 26'],values:[22,21,21,20,21,20,19,19,19,19]},
    trend2y: {labels:['Sep 24','Oct 24','Nov 24','Dec 24','Jan 25','May 25','Sep 25','Nov 25','Jan 26','Feb 26'],values:[22,21,21,20,21,20,19,19,19,19]},
    trend5y: {labels:['Feb 20','Feb 21','Feb 22','Feb 23','Feb 24','Feb 25','Feb 26'],values:[42,40,38,30,24,20,19]},
    trend10y:{labels:['2015','2017','2019','2021','2023','2025','2026'],values:[37,42,43,40,28,20,19]},
    stats:[{l:'Current',v:'19%',c:'blue'},{l:'2024 Election',v:'23.7%',c:''},{l:'Seats (2024)',v:'121',c:'red'},{l:'Leader',v:'K. Badenoch',c:''},{l:'1yr Change',v:'−1pp',c:'red'}]}
};

// Set aliases for duplicated indicators
IND.gfk2 = IND.gfk;

// --- PMI & BUSINESS FORMATION (hardcoded Feb 2026) ---
IND.pmi = {
  title:'UK Composite PMI (Business Activity)', sub:'S&P Global / CIPS Flash PMI | 50 = no change; above 50 = expansion', color:'#00d084', unit:'',
  recent:  {labels:['Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Jan','Feb'],values:[52.9,52.8,53.0,52.8,53.8,53.8,52.6,51.8,51.2,51.4,53.7,53.9]},
  trend2y: {labels:['Feb 24','May','Aug','Nov','Feb 25','Jun','Sep','Dec 25','Jan 26','Feb 26'],values:[53.0,53.0,53.8,51.2,52.9,52.8,52.6,51.4,53.7,53.9]},
  trend5y: {labels:['2020','2021','2022','2023','2024','2025','2026'],values:[38.8,56.5,51.8,51.4,52.8,52.0,53.9]},
  trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025','2026'],values:[55.5,52.0,55.5,52.5,50.0,38.8,56.5,51.8,51.4,52.8,52.0,53.9]},
  stats:[{l:'Feb 2026 (Flash)',v:'53.9',c:'green'},{l:'Jan 2026',v:'53.7',c:'green'},{l:'Services PMI',v:'53.9',c:'green'},{l:'Manufacturing PMI',v:'52.0',c:'green'},{l:'22-Month High',v:'Yes',c:'green'}]
};
IND.bizformation = {
  title:'UK Company Incorporations vs Dissolutions', sub:'Quarterly data | Companies House | Net = Incorporations minus Dissolutions', color:'#ffa502', unit:'k',
  recent:  {labels:['Q4 22','Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24','Q1 25','Q2 25','Q3 25'],values:[23.0,18.5,22.0,20.5,19.0,17.0,15.0,13.5,18.0,19.0,14.5,-18.4]},
  trend2y: {labels:['Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24','Q1 25','Q2 25','Q3 25'],values:[22.0,20.5,19.0,17.0,15.0,13.5,18.0,19.0,14.5,-18.4]},
  trend5y: {labels:['2020','2021','2022','2023','2024','2025'],values:[82.0,185.0,95.0,78.5,64.0,-18.4]},
  trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'],values:[35.0,42.0,48.0,55.0,52.0,82.0,185.0,95.0,78.5,64.0,-18.4]},
  stats:[{l:'Q3 2025 Net',v:'−18.4k',c:'red'},{l:'Incorporations',v:'216k',c:'amber'},{l:'Dissolutions',v:'234k',c:'red'},{l:'Register Size',v:'5.45m',c:''},{l:'Trend',v:'NET NEGATIVE',c:'red'}]
};
IND.unemp2 = IND.unemp;
IND.youth2 = IND.youth;

// ============================================================
// EXPAND ENGINE
// ============================================================
let _active = {}; // panel_id -> { key, cardEl, range }
let _charts = {};

function getPanelId(cardEl) {
  // Find the nearest .ep sibling after the card's parent grid
  const grid = cardEl.closest('.ic-grid') || cardEl.closest('.g3') || cardEl.closest('.ic-grid');
  if (!grid) return null;
  // Look for .ep immediately after grid
  let next = grid.nextElementSibling;
  while (next && !next.classList.contains('ep')) {
    next = next.nextElementSibling;
  }
  return next ? next.id : null;
}

function expand(key, cardEl) {
  const panelId = getPanelId(cardEl);
  if (!panelId) return;

  const panel = document.getElementById(panelId);
  const state = _active[panelId];

  // Toggle off if same card
  if (state && state.key === key) {
    closePanel(panelId);
    return;
  }

  // Deactivate old card in this panel
  if (state) {
    state.cardEl.classList.remove('active');
  }

  cardEl.classList.add('active');
  _active[panelId] = { key, cardEl, range: '2y' };

  panel.classList.add('open');
  renderPanel(panelId);
  setTimeout(() => panel.scrollIntoView({ behavior: 'smooth', block: 'nearest' }), 80);
}

function closePanel(panelId) {
  const panel = document.getElementById(panelId);
  if (!panel) return;
  panel.classList.remove('open');
  const state = _active[panelId];
  if (state) state.cardEl.classList.remove('active');
  delete _active[panelId];
}

function setRange(panelId, range, btn) {
  const state = _active[panelId];
  if (!state) return;
  state.range = range;
  // Update buttons
  const panel = document.getElementById(panelId);
  panel.querySelectorAll('.rng-btn').forEach(b => b.classList.toggle('active', b.dataset.range === range));
  renderPanel(panelId);
}

function renderPanel(panelId) {
  const panel = document.getElementById(panelId);
  const state = _active[panelId];
  if (!state) return;
  const ind = IND[state.key];
  if (!ind) return;

  // Build panel HTML
  const trendData = ind['trend' + state.range] || ind.trend2y;
  const rangeLabel = state.range === '2y' ? '2 Year' : state.range === '5y' ? '5 Year' : '10 Year';

  panel.innerHTML = `
    <div class="ep-hdr">
      <div>
        <div class="ep-title">${ind.title}</div>
        <div class="ep-sub">${ind.sub}</div>
      </div>
      <div class="ep-controls">
        <div class="ep-ranges">
          <button class="rng-btn ${state.range==='2y'?'active':''}" data-range="2y" onclick="setRange('${panelId}','2y',this)">2Y</button>
          <button class="rng-btn ${state.range==='5y'?'active':''}" data-range="5y" onclick="setRange('${panelId}','5y',this)">5Y</button>
          <button class="rng-btn ${state.range==='10y'?'active':''}" data-range="10y" onclick="setRange('${panelId}','10y',this)">10Y</button>
        </div>
        <button class="close-btn" onclick="closePanel('${panelId}')">✕ Close</button>
      </div>
    </div>
    <div class="ep-charts">
      <div class="ep-cb">
        <div class="ep-clabel">RECENT — Last ${ind.recent.labels.length} Periods</div>
        <div style="height:220px;position:relative"><canvas id="epc-recent-${panelId}"></canvas></div>
      </div>
      <div class="ep-cb">
        <div class="ep-clabel">TREND — ${rangeLabel} View</div>
        <div style="height:220px;position:relative"><canvas id="epc-trend-${panelId}"></canvas></div>
      </div>
    </div>
    <div class="ep-stats">
      ${(ind.stats||[]).map(s=>`<div class="ep-stat"><div class="ep-stat-l">${s.l}</div><div class="ep-stat-v ${s.c}">${s.v}</div></div>`).join('')}
    </div>
  `;

  // Destroy old charts
  const rk = 'r-' + panelId, tk = 't-' + panelId;
  if (_charts[rk]) { _charts[rk].destroy(); delete _charts[rk]; }
  if (_charts[tk]) { _charts[tk].destroy(); delete _charts[tk]; }

  // Recent bar chart
  const rCanvas = document.getElementById('epc-recent-' + panelId);
  const vals = ind.recent.values;
  const isNeg = vals.some(v => v < 0);
  _charts[rk] = new Chart(rCanvas, {
    type: 'bar',
    data: {
      labels: ind.recent.labels,
      datasets: [{ data: vals,
        backgroundColor: vals.map(v => isNeg ? (v<0?ind.color+'66':'#00d08455') : ind.color+'55'),
        borderColor: vals.map(v => isNeg ? (v<0?ind.color:'#00d084') : ind.color),
        borderWidth: 1, borderRadius: 2 }]
    },
    options: { ...CD, scales: { x:{...CD.scales.x,ticks:{...CD.scales.x.ticks,maxRotation:45,font:{size:8}}}, y:{...CD.scales.y,ticks:{...CD.scales.y.ticks,callback:v=>v+ind.unit}} } }
  });

  // Trend line chart with gradient
  const tCanvas = document.getElementById('epc-trend-' + panelId);
  const tctx = tCanvas.getContext('2d');
  const grad = tctx.createLinearGradient(0,0,0,220);
  grad.addColorStop(0, ind.color+'40'); grad.addColorStop(1, ind.color+'05');
  const tvals = trendData.values;
  const isNegT = tvals.some(v=>v<0);
  _charts[tk] = new Chart(tCanvas, {
    type: 'line',
    data: {
      labels: trendData.labels,
      datasets: [{ data: tvals, borderColor: ind.color, backgroundColor: isNegT?'transparent':grad,
        borderWidth: 2, fill: !isNegT, tension: 0.35,
        pointRadius: state.range==='10y'?2:3, pointBackgroundColor: ind.color, pointHoverRadius: 6 }]
    },
    options: { ...CD, scales: { x:{...CD.scales.x,ticks:{...CD.scales.x.ticks,maxRotation:35,font:{size:9}}}, y:{...CD.scales.y,ticks:{...CD.scales.y.ticks,callback:v=>v+ind.unit}} } }
  });
}

// ============================================================
// TAB SWITCH
// ============================================================
function switchTab(id, el) {
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  el.classList.add('active');
  document.getElementById('tab-'+id).classList.add('active');
}

// ============================================================
// UTILITY
// ============================================================
function setv(id, val, col) {
  const el = document.getElementById(id); if (!el) return;
  el.textContent = val;
  if (col) { el.className = el.className.replace(/\b(blue|green|red|amber)\b/g,''); el.classList.add(col); }
}
function setChange(id, cur, prev, unit='%', invert=false) {
  const el = document.getElementById(id); if (!el||cur===null||prev===null) return;
  const d = (parseFloat(cur)-parseFloat(prev)).toFixed(2);
  const up = parseFloat(d)>0;
  el.textContent = (up?'▲ +':'▼ ')+d+unit;
  el.className = 'chg '+(up?(invert?'dn':'up'):(invert?'up':'dn'));
}
function fmt(v){ return parseFloat(v).toFixed(1)+'%'; }

// ============================================================
// ONS/BoE API FETCH
// ============================================================
async function fetchONS(dataset, series) {
  try {
    const r = await fetch(`https://api.ons.gov.uk/v1/datasets/${dataset}/timeseries/${series}/data`);
    if (!r.ok) return null;
    return await r.json();
  } catch { return null; }
}
function lastN(json, n, type='months') {
  if (!json||!json[type]) return [];
  const arr = [...json[type]].sort((a,b) => {
    if (type==='months') return new Date(a.year+' '+a.month)-new Date(b.year+' '+b.month);
    return (a.year+(a.quarter||'')).localeCompare(b.year+(b.quarter||''));
  });
  return arr.slice(-n);
}

// ============================================================
// DATA LOADERS
// ============================================================
async function loadCPI() {
  const d = await fetchONS('MM23','D7G7');
  const m = d ? lastN(d,2,'months') : null;
  if (m&&m.length) {
    const l=m[m.length-1], p=m[m.length-2];
    const col = l.value>4?'red':l.value>2?'amber':'green';
    ['v-cpi','v-cpi12'].forEach(id=>setv(id,fmt(l.value),col));
    ['d-cpi','d-cpi12'].forEach(id=>{ const el=document.getElementById(id); if(el) el.textContent=l.month+' '+l.year; });
    if(p) { setChange('chg-cpi',l.value,p.value,'pp',true); setChange('chg-cpi12',l.value,p.value,'pp',true); }
  } else {
    setv('v-cpi','2.5%','amber'); setv('v-cpi12','2.5%','amber');
    ['d-cpi','d-cpi12'].forEach(id=>{ const el=document.getElementById(id); if(el) el.textContent='Jan 25 (fallback)'; });
  }
  const mom = await fetchONS('MM23','D7G8');
  if (mom) { const m2=lastN(mom,1,'months'); if(m2.length){ setv('v-cpimom',(m2[0].value>=0?'+':'')+fmt(m2[0].value)); const el=document.getElementById('d-cpimom'); if(el) el.textContent=m2[0].month+' '+m2[0].year; } }
  else setv('v-cpimom','+0.5%');
  const cpih = await fetchONS('MM23','L55O');
  if (cpih) { const m3=lastN(cpih,1,'months'); if(m3.length){ setv('v-cpih',fmt(m3[0].value)); const el=document.getElementById('d-cpih'); if(el) el.textContent=m3[0].month+' '+m3[0].year; } }
  else setv('v-cpih','3.9%');
  const core = await fetchONS('MM23','D7CA');
  if (core) { const m4=lastN(core,1,'months'); if(m4.length){ setv('v-corecpi',fmt(m4[0].value)); const el=document.getElementById('d-corecpi'); if(el) el.textContent=m4[0].month+' '+m4[0].year; } }
  else setv('v-corecpi','3.7%');
}

async function loadUnemployment() {
  const d = await fetchONS('LMS','MGSX');
  const m = d ? lastN(d,3,'months') : null;
  if (m&&m.length) {
    const l=m[m.length-1], p=m[m.length-2];
    const col=l.value>6?'red':l.value>5?'amber':'green';
    ['v-unemp','v-unemp2'].forEach(id=>setv(id,fmt(l.value),col));
    ['d-unemp','d-unemp2'].forEach(id=>{ const el=document.getElementById(id); if(el) el.textContent=l.month+' '+l.year; });
    if(p) setChange('chg-unemp',l.value,p.value,'pp',true);
  } else {
    ['v-unemp','v-unemp2'].forEach(id=>setv(id,'5.2%','red'));
  }
  const yd = await fetchONS('LMS','YBVN');
  const ym = yd ? lastN(yd,2,'months') : null;
  if (ym&&ym.length) {
    const l=ym[ym.length-1], col=l.value>20?'red':'amber';
    ['v-youth','v-youth2','v-youthunemp2'].forEach(id=>setv(id,fmt(l.value),col));
    ['d-youth','d-youth2'].forEach(id=>{ const el=document.getElementById(id); if(el) el.textContent=l.month+' '+l.year; });
  } else {
    ['v-youth','v-youth2','v-youthunemp2'].forEach(id=>setv(id,'16.0%','red'));
  }
  const er = await fetchONS('LMS','LF24');
  if(er){ const m2=lastN(er,1,'months'); if(m2.length) setv('v-emprate',fmt(m2[0].value),'green'); }
  else setv('v-emprate','75.0%','amber');
  const ia = await fetchONS('LMS','LF2S');
  if(ia){ const m3=lastN(ia,1,'months'); if(m3.length) setv('v-inactive',fmt(m3[0].value),'amber'); }
  else setv('v-inactive','21.8%','amber');
}

async function loadGDP() {
  const d = await fetchONS('QNA','IHYP');
  const q = d ? lastN(d,2,'quarters') : null;
  if (q&&q.length) {
    const l=q[q.length-1], col=l.value>=0?'green':'red';
    setv('v-gdp',(l.value>=0?'+':'')+fmt(l.value),col);
    const el=document.getElementById('d-gdp'); if(el) el.textContent='Q'+l.quarter.replace('Q','')+' '+l.year;
  } else {
    setv('v-gdp','+0.1%','green');
    const el=document.getElementById('d-gdp'); if(el) el.textContent='Q3 2024 (fallback)';
  }
}

async function loadFiscal() {
  const dp = await fetchONS('PSF','HF6X');
  if (dp) { const m=lastN(dp,1,'months'); if(m.length){ setv('v-debt',fmt(m[0].value),'red'); setv('v-debtgdp',fmt(m[0].value),'red'); } }
  else { setv('v-debt','98.4%','red'); setv('v-debtgdp','98.4%','red'); }
  const da = await fetchONS('PSF','HF6W');
  if(da){ const m=lastN(da,1,'months'); if(m.length) setv('v-debtabs','£'+(m[0].value/1000).toFixed(0)+'bn','red'); }
  else setv('v-debtabs','£2,741bn','red');
  const di = await fetchONS('PSF','MJX3');
  if(di){ const m=lastN(di,13,'months'); if(m.length){ const l=m[m.length-1]; setv('v-interestm','£'+(l.value/1000).toFixed(1)+'bn','amber'); setv('v-interesta','£'+(m.slice(-12).reduce((s,x)=>s+x.value,0)/1000).toFixed(1)+'bn','amber'); } }
  else { setv('v-interestm','£7.5bn','amber'); setv('v-interesta','£93.8bn','amber'); }
  const br = await fetchONS('PSF','J5II');
  if(br){ const m=lastN(br,1,'months'); if(m.length){ const v=(m[0].value/1000).toFixed(1); setv('v-borrowing',(v>0?'+':'')+'£'+Math.abs(v)+'bn',v>0?'red':'green'); } }
  else setv('v-borrowing','+£18.1bn','red');
  setv('v-taxreceipts','£81.0bn','white');
  document.getElementById('chg-taxreceipts').textContent='▲ +3.2% YoY';
  document.getElementById('chg-taxreceipts').className='chg up';
  setv('v-deficit','-4.1%','red');
  setv('v-currentaccount','-2.8%','red'); setv('v-currentacct','-2.8%','red');
  setv('v-tradegoods','-£18.2bn','red'); setv('v-tradeservices','+£16.8bn','green');
  setv('v-twin','TWIN','red'); setv('v-incometax','£21.8bn','blue');
  setv('v-nics','£14.2bn','blue'); setv('v-vat','£17.3bn','blue'); setv('v-corptax','£10.1bn','blue');
}

async function loadNEET() {
  const d = await fetchONS('NEET','YBVG');
  if(d){ const q=lastN(d,1,'quarters'); if(q.length){ setv('v-neet',fmt(q[0].value),'amber'); setv('v-neet2',fmt(q[0].value),'amber'); } }
  else { setv('v-neet','11.8%','amber'); setv('v-neet2','11.8%','amber'); }
  const dt = await fetchONS('NEET','YBVD');
  if(dt){ const q=lastN(dt,1,'quarters'); if(q.length) setv('v-neettotal',Math.round(q[0].value)+'k','amber'); }
  else setv('v-neettotal','787k','amber');
}

async function loadConsumerCredit() {
  // BoE series LPMVZRN: net credit card lending flows, £millions, monthly
  try {
    const today = new Date();
    const from = new Date(today); from.setMonth(from.getMonth() - 14);
    const mn = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    const url = `https://www.bankofengland.co.uk/boeapps/database/_iadb-fromshowcolumns.asp?csv.x=yes&Datefrom=01/${mn[from.getMonth()]}/${from.getFullYear()}&Dateto=01/${mn[today.getMonth()]}/${today.getFullYear()}&SeriesCodes=LPMVZRN&CSVF=TN&UsingCodes=Y&VPD=Y&VFD=N`;
    const r = await fetch(url);
    if (!r.ok) return;
    const text = await r.text();
    const lines = text.trim().split('\n').filter(l=>l.trim());
    if (lines.length < 2) return;
    // Find last non-null value
    const rows = lines.slice(1).map(l => { const p=l.split(','); return {date:p[0].replace(/"/g,''), val:parseFloat(p[1])}; }).filter(r=>!isNaN(r.val));
    if (!rows.length) return;
    const last = rows[rows.length-1];
    const valBn = (last.val/1000).toFixed(1);
    const display = (last.val>=0?'+£':'−£')+Math.abs(valBn)+'bn';
    setv('v-ccborrow', display, last.val>800?'red':last.val>400?'amber':'green');
    const el=document.getElementById('d-ccborrow'); if(el) el.textContent=last.date+' · BoE';
  } catch {}
}

async function loadHouseholdDebt() {
  // ONS series NNQR: household debt to income ratio, quarterly
  const d = await fetchONS('QNA','NNQR');
  if (!d) return;
  const q = lastN(d, 2, 'quarters');
  if (!q.length) return;
  const last = q[q.length-1];
  const v = parseFloat(last.value).toFixed(1);
  setv('v-hdebt', v+'%', v>140?'red':v>125?'amber':'green');
  const el=document.getElementById('d-hdebt'); if(el) el.textContent=`Q${last.quarter.replace('Q','')} ${last.year} · ONS`;
}

// ============================================================
// HARDCODED DATA DATE — update this when you manually refresh figures
// ============================================================
const HARDCODED_DATE = 'Feb 2026';

function injectRefreshedBadges() {
  // Groups of element IDs that share the same hardcoded refresh date, with a label
  const groups = [
    { ids: ['v-gilt10','v-gilt30','v-gilt2','v-gilt10ec','v-gilt30ec'], label: 'Gilt Yields' },
    { ids: ['v-boe','v-boerate'], label: 'BoE Rate' },
    { ids: ['v-mort2','v-mort5','v-svr','v-approvals'], label: 'Mortgage Rates' },
    { ids: ['v-gfk','v-gfk2'], label: 'GfK Consumer Confidence' },
    { ids: ['v-lend-productive','v-lend-mortgage','v-lend-fire','v-lend-consumer'], label: 'BoE Lending Flows' },
    { ids: ['v-indinsol','v-compinsol','v-arrears','v-possession'], label: 'Insolvency & Arrears' },
    { ids: ['v-immigration','v-emigration','v-migration','v-netmig'], label: 'Migration Stats' },
    { ids: ['v-pip','v-iapt','v-camhs'], label: 'DWP / NHS Social' },
    { ids: ['v-labour','v-reform','v-conservative','v-restorebritain','v-govapproval','v-pmsatisfaction','v-trustparliament','v-righttrack'], label: 'Polling' },
    { ids: ['v-ukpop','v-pensioners','v-workerratio','v-birthrate','v-birthsperyear','v-statepension','v-lifeexpect','v-labourpart','v-penfore2025','v-penfore2030','v-penfore2040','v-penfore2050'], label: 'Demographics' },
    { ids: ['v-pmi','v-bizformation'], label: 'PMI & Business Formation' },
  ];
  groups.forEach(g => {
    g.ids.forEach(id => {
      const el = document.getElementById(id);
      if (!el) return;
      // Only add badge once, and only if not already present
      const card = el.closest('.ic');
      if (!card || card.querySelector('.refreshed-badge')) return;
      const badge = document.createElement('div');
      badge.className = 'refreshed-badge';
      badge.title = 'This figure is hardcoded — update manually';
      badge.textContent = `✎ refreshed ${HARDCODED_DATE}`;
      card.appendChild(badge);
    });
  });
}

function loadStatic() {
  setv('v-boe','3.75%','blue'); setv('v-boerate','3.75%','blue');
  setv('v-gilt10','4.36%','blue'); setv('v-gilt30','5.18%','blue');
  setv('v-gilt2','4.10%','blue'); setv('v-gilt10ec','4.36%','blue'); setv('v-gilt30ec','5.18%','blue');
  setv('v-mort2','4.53%','amber'); setv('v-mort5','4.98%','amber'); setv('v-svr','7.27%','red'); setv('v-approvals','65.7k','white');
  setv('v-gfk','-16','amber'); setv('v-gfk2','-16','amber');
  setv('v-ccborrow','+£0.6bn','red');
  setv('v-hdebt','126.5%','amber');
  setv('v-indinsol','8,942','red'); setv('v-compinsol','2,187','red');
  setv('v-arrears','1.12%','amber'); setv('v-possession','2,560','amber');
  setv('v-migration','728k','amber'); setv('v-netmig','728k','amber');
  setv('v-immigration','1,218k','red'); setv('v-emigration','490k','green');
  setv('v-pip','6,800k','red'); setv('v-iapt','~189k','amber'); setv('v-camhs','~740k','red');
  setv('v-youthinactive','39.2%','red');
  // Unemployment / employment (Economic + Social tabs) — ONS Feb 2026 (Oct-Dec 2025 data)
  setv('v-unemp','5.2%','red'); setv('v-unemp2','5.2%','red');
  setv('v-youth','16.0%','red'); setv('v-youth2','16.0%','red');
  setv('v-youthunemp2','16.0%','red');
  setv('v-emprate','75.0%','amber'); setv('v-inactive','20.8%','amber');
  // NEET (Social tab)
  setv('v-neet','11.8%','amber'); setv('v-neet2','11.8%','amber');
  setv('v-neettotal','787k','amber');
  // Lending (Economic tab)
  setv('v-lend-productive','16.6%','amber');
  setv('v-lend-mortgage','54.1%','red');
  setv('v-lend-fire','23.9%','red');
  setv('v-lend-consumer','4.6%','amber');
  // Politics tab — polling average Feb 2026 (PollCheck 7-poll moving average, 19 Feb 2026)
  setv('v-labour','19%','red'); setv('v-reform','29%','blue'); setv('v-conservative','19%','white');
  setv('v-restorebritain','10%','amber');
  setv('v-govapproval','−23','red'); setv('v-pmsatisfaction','−28','red');
  setv('v-trustparliament','19%','red'); setv('v-righttrack','18%','red');
  // Demographics tab
  setv('v-ukpop','67.6m','blue'); setv('v-pensioners','12.7m','red');
  setv('v-workerratio','3.2','amber'); setv('v-birthrate','1.44','red');
  setv('v-birthsperyear','591k','amber'); setv('v-statepension','£124bn','red');
  setv('v-lifeexpect','80.9 / 84.9','blue'); setv('v-labourpart','72.8%','amber');
  setv('v-penfore2025','13.0m','amber'); setv('v-penfore2030','14.5m','amber');
  setv('v-penfore2040','16.8m','red'); setv('v-penfore2050','19.2m','red');

}

// ============================================================
// NEW INDICATOR DATA — LENDING, POLITICS, DEMOGRAPHICS
// ============================================================

// --- PRODUCTIVE LENDING ---
IND.lendproductive = {
  title:'Non-Financial Business Lending (Productive Economy)', sub:'% of total outstanding bank credit going to non-financial corporations | BoE Bankstats M4 lending data', color:'#ffa502', unit:'%',
  recent:  {labels:['Jan 24','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],values:[16.9,16.8,16.8,16.7,16.7,16.7,16.6,16.6,16.6,16.6,16.6,16.6]},
  trend2y: {labels:['Jan 23','Apr','Jul','Oct','Jan 24','Apr','Jul','Oct','Jan 25'],values:[17.2,17.1,17.0,17.0,16.9,16.7,16.6,16.6,16.6]},
  trend5y: {labels:['2019','2020','2021','2022','2023','2024'],values:[18.2,20.1,18.5,17.8,17.2,16.6]},
  trend10y:{labels:['2000','2003','2006','2009','2012','2015','2018','2021','2024'],values:[21.0,20.5,19.8,15.2,17.8,18.5,18.2,18.5,16.6]},
  stats:[{l:'Current Share',v:'16.6%',c:'amber'},{l:'Late 1990s Peak',v:'~21%',c:'green'},{l:'GFC Low 2009',v:'15.2%',c:'red'},{l:'US Equivalent',v:'~20%',c:''},{l:'Trend',v:'DECLINING',c:'red'}]
};
IND.lendmortgage = {
  title:'Residential Mortgage Lending', sub:'% of total outstanding bank credit | BoE Bankstats — record high Oct 2024', color:'#ff4757', unit:'%',
  recent:  {labels:['Jan 24','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],values:[53.5,53.6,53.7,53.8,53.9,54.0,54.0,54.0,54.0,54.1,54.1,54.1]},
  trend2y: {labels:['Jan 23','Apr','Jul','Oct','Jan 24','Apr','Jul','Oct','Jan 25'],values:[52.8,53.0,53.2,53.5,53.5,53.8,54.0,54.1,54.1]},
  trend5y: {labels:['2019','2020','2021','2022','2023','2024'],values:[47.2,48.5,49.8,51.5,52.8,54.1]},
  trend10y:{labels:['2000','2003','2006','2009','2012','2015','2018','2021','2024'],values:[38.8,40.5,44.0,45.5,46.0,46.8,47.0,49.8,54.1]},
  stats:[{l:'Current Share',v:'54.1%',c:'red'},{l:'Absolute Outstanding',v:'£1,472bn',c:'red'},{l:'20yr Rise',v:'+£717bn',c:'red'},{l:'2009 Low',v:'38.8%',c:'green'},{l:'Trend',v:'RISING SHARPLY',c:'red'}]
};
IND.lendfire = {
  title:'Financial / Insurance / Real Estate (FIRE) Sector Lending', sub:'% of total outstanding bank credit | BoE Bankstats', color:'#ff4757', unit:'%',
  recent:  {labels:['Jan 24','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],values:[24.1,24.0,23.9,24.0,24.0,24.0,23.9,23.9,23.9,23.9,23.9,23.9]},
  trend2y: {labels:['Jan 23','Apr','Jul','Oct','Jan 24','Apr','Jul','Oct','Jan 25'],values:[24.5,24.4,24.2,24.2,24.1,24.0,23.9,23.9,23.9]},
  trend5y: {labels:['2019','2020','2021','2022','2023','2024'],values:[27.0,25.5,25.0,24.5,24.5,23.9]},
  trend10y:{labels:['2000','2003','2006','2009','2012','2015','2018','2021','2024'],values:[20.0,25.0,30.0,36.1,32.0,28.0,27.0,25.0,23.9]},
  stats:[{l:'Current Share',v:'23.9%',c:'red'},{l:'GFC Peak 2009',v:'36.1%',c:'red'},{l:'vs Productive Econ',v:'1.44× higher',c:'red'},{l:'Absolute £',v:'£653bn',c:'red'},{l:'Trend',v:'DECLINING (slowly)',c:'amber'}]
};
IND.ccborrow = {
  title:'Credit Card Borrowing — Net Monthly Flow', sub:'Net new credit card lending to UK households | BoE Money & Credit Statistics (LPMVZRN)', color:'#ff4757', unit:'£bn',
  recent:  {labels:['Jan 24','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],values:[0.6,0.5,0.7,0.8,0.9,0.7,0.8,0.9,1.0,1.1,1.3,0.6]},
  trend2y: {labels:['Jan 23','Apr','Jul','Oct','Jan 24','Apr','Jul','Oct','Dec 24'],values:[0.4,0.6,0.8,0.9,0.6,0.8,0.8,1.1,0.6]},
  trend5y: {labels:['2020','2021','2022','2023','2024'],values:[-0.5,0.1,0.6,0.8,0.9]},
  trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[0.3,0.4,0.5,0.5,0.4,-0.5,0.1,0.6,0.8,0.9]},
  stats:[{l:'Latest Monthly Flow',v:'+£0.6bn',c:'red'},{l:'Annual Total 2024',v:'~£9.6bn',c:'red'},{l:'Outstanding Total',v:'£70.5bn',c:'red'},{l:'Covid Low 2020',v:'−£0.5bn',c:'green'},{l:'Trend',v:'RISING',c:'red'}]
};
IND.hdebt = {
  title:'Household Debt to Income Ratio', sub:'Total household liabilities as % of gross disposable income | ONS Sector Accounts (NNQR)', color:'#ffa502', unit:'%',
  recent:  {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[128.5,128.2,127.8,127.5,127.2,127.0,126.8,126.5]},
  trend2y: {labels:['Q1 23','Q2 23','Q3 23','Q4 23','Q1 24','Q2 24','Q3 24','Q4 24'],values:[128.5,128.2,127.8,127.5,127.2,127.0,126.8,126.5]},
  trend5y: {labels:['2020','2021','2022','2023','2024'],values:[132.5,130.0,128.0,128.0,126.5]},
  trend10y:{labels:['2008','2010','2012','2014','2016','2018','2020','2022','2024'],values:[157.0,150.0,143.0,138.0,133.0,130.0,132.5,128.0,126.5]},
  stats:[{l:'Current Ratio',v:'126.5%',c:'amber'},{l:'Meaning',v:'£1.27 debt per £1 income',c:'amber'},{l:'GFC Peak 2008',v:'157%',c:'red'},{l:'Post-GFC Low',v:'~120%',c:'green'},{l:'Trend',v:'SLOWLY FALLING',c:'green'}]
};
IND.lendconsumer = {
  title:'Consumer Credit', sub:'% of total outstanding bank credit | BoE Bankstats — cards, loans, overdrafts', color:'#ffa502', unit:'%',
  recent:  {labels:['Jan 24','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],values:[4.6,4.6,4.6,4.6,4.6,4.6,4.6,4.6,4.6,4.6,4.6,4.6]},
  trend2y: {labels:['Jan 23','Apr','Jul','Oct','Jan 24','Apr','Jul','Oct','Jan 25'],values:[4.7,4.7,4.6,4.6,4.6,4.6,4.6,4.6,4.6]},
  trend5y: {labels:['2000','2004','2008','2012','2016','2020','2024'],values:[10.0,9.5,8.5,7.2,6.5,5.0,4.6]},
  trend10y:{labels:['2000','2003','2006','2009','2012','2015','2018','2021','2024'],values:[10.0,9.8,9.2,7.5,7.2,6.8,6.5,5.0,4.6]},
  stats:[{l:'Current Share',v:'4.6%',c:'amber'},{l:'2002 Peak',v:'10.0%',c:'red'},{l:'Trend',v:'DECLINING',c:'green'},{l:'Absolute £',v:'~£250bn',c:'amber'},{l:'Note',v:'Post-GFC deleveraging',c:''}]
};

// --- POLITICS: NEW INDICATORS ---
IND.restorebritain = {
  title:'Restore Britain — Voting Intention', sub:'Party launched 13 Feb 2026 · Rupert Lowe MP · ⚠ Only one poll exists: Find Out Now (14 Feb 2026, n=1,000) — self-commissioned by Restore Britain', color:'#7c3aed', unit:'%',
  recent:  {labels:['Launch (13 Feb)','First poll (14 Feb)'],values:[0,10]},
  trend2y: {labels:['Pre-Launch','First poll (14 Feb 26)'],values:[0,10]},
  trend5y: {labels:['Pre-Launch'],values:[0]},
  trend10y:{labels:['Pre-Launch'],values:[0]},
  stats:[{l:'Find Out Now poll',v:'10%',c:'amber'},{l:'Poll commissioned by',v:'Restore Britain',c:'red'},{l:'JL Partners est.',v:'~1%',c:'red'},{l:'Public recognition',v:'8%',c:'red'},{l:'Members (20 Feb)',v:'80,000',c:'green'}]
};
IND.govapproval = {
  title:'UK Government Net Approval Rating', sub:'Approve minus disapprove | Ipsos Political Monitor', color:'#ff4757', unit:'',
  recent:  {labels:['Jul 24','Aug','Sep','Oct','Nov','Dec','Jan 25','Feb'],values:[-5,-10,-14,-18,-20,-22,-23,-23]},
  trend2y: {labels:['Jul 24','Aug','Sep','Oct','Nov','Dec','Jan 25','Feb 25'],values:[-5,-10,-14,-18,-20,-22,-23,-23]},
  trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jul 24','Feb 25'],values:[-4,8,-12,-15,-18,-5,-23]},
  trend10y:{labels:['2015','2017','2019','2020','2022','2023','2024 elect','2025'],values:[-4,-2,2,-4,-22,-15,-3,-23]},
  stats:[{l:'Current Net',v:'−23',c:'red'},{l:'Immediately Post-Election',v:'−3',c:''},{l:'Fastest Decline For',v:'New PM (records)',c:'red'},{l:'Cameron High 2015',v:'+8',c:'green'},{l:'Johnson Low 2021',v:'−24',c:'red'}]
};
IND.pmsatisfaction = {
  title:'PM Satisfaction — Keir Starmer', sub:'Net satisfaction score | Ipsos Political Monitor', color:'#ff4757', unit:'',
  recent:  {labels:['Jul 24','Aug','Sep','Oct','Nov','Dec','Jan 25','Feb'],values:[-2,-8,-14,-20,-24,-26,-28,-28]},
  trend2y: {labels:['Jul 24','Aug','Sep','Oct','Nov','Dec','Jan 25','Feb 25'],values:[-2,-8,-14,-20,-24,-26,-28,-28]},
  trend5y: {labels:['Jul 24 (elected)','Sep 24','Nov 24','Jan 25','Feb 25'],values:[-2,-14,-24,-28,-28]},
  trend10y:{labels:['Blair (1yr)','Brown (1yr)','Cameron (1yr)','May (1yr)','Johnson (1yr)','Sunak (1yr)','Starmer (7mo)'],values:[+20,+5,-2,-12,-8,-32,-28]},
  stats:[{l:'Current Net',v:'−28',c:'red'},{l:'Elected (Jul 24)',v:'−2',c:''},{l:'Decline in 7 months',v:'−26 pts',c:'red'},{l:'Fastest post-election',v:'decline on record',c:'red'},{l:'PM who stayed longer',v:'Sunak −32 (1yr)',c:'red'}]
};
IND.trustparliament = {
  title:'Trust in Parliament (% trusting)', sub:'Ipsos Veracity Index — annual survey | UK adults', color:'#ff4757', unit:'%',
  recent:  {labels:['2018','2019','2020','2021','2022','2023','2024'],values:[26,24,26,24,22,20,19]},
  trend2y: {labels:['2023','2024'],values:[20,19]},
  trend5y: {labels:['2020','2021','2022','2023','2024'],values:[26,24,22,20,19]},
  trend10y:{labels:['2015','2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[26,27,26,26,24,26,24,22,20,19]},
  stats:[{l:'Currently Trust MPs',v:'19%',c:'red'},{l:'Don\'t Trust MPs',v:'76%',c:'red'},{l:'Most Trusted: Nurses',v:'94%',c:'green'},{l:'Historical High',v:'~35% (1983)',c:'green'},{l:'Trend',v:'DECLINING',c:'red'}]
};
IND.righttrack = {
  title:'"Right Track" for Britain', sub:'% saying Britain is going in the right direction | Ipsos', color:'#ff4757', unit:'%',
  recent:  {labels:['Jul 24','Aug','Sep','Oct','Nov','Dec','Jan 25','Feb'],values:[32,28,24,22,20,18,18,18]},
  trend2y: {labels:['Jul 24','Sep 24','Nov 24','Jan 25','Feb 25'],values:[32,24,20,18,18]},
  trend5y: {labels:['Jan 20','Jan 21','Jan 22','Jan 23','Jan 24','Jul 24','Feb 25'],values:[30,32,22,20,18,32,18]},
  trend10y:{labels:['2015','2016','2017','2018','2019','2020','2022','2024','2025'],values:[38,32,28,25,24,30,22,32,18]},
  stats:[{l:'"Right Track"',v:'18%',c:'red'},{l:'"Wrong Track"',v:'71%',c:'red'},{l:'Post-election peak',v:'32%',c:'green'},{l:'7-month collapse',v:'−14 pts',c:'red'},{l:'Historical norm',v:'~30%',c:''}]
};

// --- DEMOGRAPHICS ---
IND.ukpop = {
  title:'UK Total Population', sub:'ONS Mid-Year Population Estimates | Millions', color:'#00b8d9', unit:'m',
  recent:  {labels:['2018','2019','2020','2021','2022','2023'],values:[66.4,66.8,67.1,67.0,67.6,68.3]},
  trend2y: {labels:['2022','2023'],values:[67.6,68.3]},
  trend5y: {labels:['2019','2020','2021','2022','2023'],values:[66.8,67.1,67.0,67.6,68.3]},
  trend10y:{labels:['2014','2016','2018','2020','2022','2024','2030 proj','2040 proj','2050 proj'],values:[64.6,65.6,66.4,67.1,67.6,69.0,72.0,74.5,78.0]},
  stats:[{l:'Current (2024 est.)',v:'69.0m',c:'blue'},{l:'2050 Projection',v:'78m',c:'amber'},{l:'2075 Projection',v:'87m',c:'amber'},{l:'Annual Growth',v:'+~400k',c:'blue'},{l:'Migration Drive',v:'~80% of growth',c:'red'}]
};
IND.pensioners = {
  title:'State Pension Recipients (Thousands)', sub:'DWP Benefit Statistics — those receiving state pension', color:'#ff4757', unit:'k',
  recent:  {labels:['2018','2019','2020','2021','2022','2023','2024'],values:[12100,12200,12250,12300,12400,12550,12700]},
  trend2y: {labels:['2023','2024'],values:[12550,12700]},
  trend5y: {labels:['2019','2020','2021','2022','2023','2024'],values:[12200,12250,12300,12400,12550,12700]},
  trend10y:{labels:['2014','2016','2018','2020','2022','2024','2030 proj','2040 proj','2050 proj'],values:[11800,12000,12100,12250,12400,12700,14500,16800,19200]},
  stats:[{l:'Recipients (2024)',v:'12.7m',c:'red'},{l:'2030 Forecast',v:'14.5m',c:'red'},{l:'2050 Forecast',v:'19.2m',c:'red'},{l:'Annual State Pension',v:'£11,502',c:'amber'},{l:'Total Annual Cost',v:'£124bn',c:'red'}]
};
IND.workerratio = {
  title:'Workers per Pensioner (Dependency Ratio)', sub:'Working age population (16–64) per state pension age recipient | ONS / DWP', color:'#ffa502', unit:'',
  recent:  {labels:['2018','2019','2020','2021','2022','2023','2024'],values:[3.5,3.5,3.4,3.4,3.3,3.2,3.2]},
  trend2y: {labels:['2023','2024'],values:[3.2,3.2]},
  trend5y: {labels:['2019','2020','2021','2022','2023','2024'],values:[3.5,3.4,3.4,3.3,3.2,3.2]},
  trend10y:{labels:['2000','2005','2010','2015','2020','2024','2030 proj','2040 proj','2050 proj'],values:[4.0,3.9,3.8,3.7,3.4,3.2,2.8,2.3,1.9]},
  stats:[{l:'Current Ratio',v:'3.2 : 1',c:'amber'},{l:'2000 Ratio',v:'4.0 : 1',c:'green'},{l:'2040 Forecast',v:'2.3 : 1',c:'red'},{l:'2050 Forecast',v:'1.9 : 1',c:'red'},{l:'Direction',v:'DECLINING EVERY YEAR',c:'red'}]
};
IND.birthrate = {
  title:'Total Fertility Rate (Children per Woman)', sub:'ONS Births Statistics | Replacement level = 2.1', color:'#ff4757', unit:'',
  recent:  {labels:['2016','2017','2018','2019','2020','2021','2022','2023'],values:[1.81,1.74,1.70,1.65,1.58,1.61,1.49,1.44]},
  trend2y: {labels:['2022','2023'],values:[1.49,1.44]},
  trend5y: {labels:['2019','2020','2021','2022','2023'],values:[1.65,1.58,1.61,1.49,1.44]},
  trend10y:{labels:['1960','1970','1980','1990','2000','2008','2012','2016','2020','2023'],values:[2.69,2.43,1.89,1.84,1.64,1.96,1.92,1.81,1.58,1.44]},
  stats:[{l:'Current TFR',v:'1.44',c:'red'},{l:'Replacement Level',v:'2.1',c:''},{l:'Below Replacement Since',v:'1973',c:'red'},{l:'Record Low',v:'1.44 (2023)',c:'red'},{l:'Net Births vs Deaths',v:'Near zero by 2040',c:'red'}]
};
IND.birthsperyear = {
  title:'Live Births Per Year (England & Wales)', sub:'ONS Births Statistics | Annual total', color:'#ffa502', unit:'k',
  recent:  {labels:['2016','2017','2018','2019','2020','2021','2022','2023'],values:[696,755,731,712,613,624,606,591]},
  trend2y: {labels:['2022','2023'],values:[606,591]},
  trend5y: {labels:['2019','2020','2021','2022','2023'],values:[712,613,624,606,591]},
  trend10y:{labels:['1946','1964','1972','1980','1990','2000','2008','2012','2016','2023'],values:[1025,876,725,656,707,604,708,729,696,591]},
  stats:[{l:'2023 Births',v:'591k',c:'amber'},{l:'2012 Peak',v:'729k',c:'green'},{l:'Boomer Peak 1946',v:'1,025k',c:'green'},{l:'Decline Since 2012',v:'−19%',c:'red'},{l:'Projected 2030',v:'~570k',c:'red'}]
};
IND.statepension = {
  title:'State Pension Annual Cost', sub:'Total annual expenditure | DWP Benefits Statistics / OBR', color:'#ff4757', unit:'bn',
  recent:  {labels:['FY18','FY19','FY20','FY21','FY22','FY23','FY24'],values:[96,99,101,103,104,110,124]},
  trend2y: {labels:['FY23','FY24','FY25 proj'],values:[110,124,130]},
  trend5y: {labels:['FY20','FY21','FY22','FY23','FY24','FY25 proj'],values:[101,103,104,110,124,130]},
  trend10y:{labels:['FY15','FY16','FY17','FY18','FY19','FY20','FY21','FY22','FY23','FY24','FY30 proj','FY40 proj'],values:[85,88,90,96,99,101,103,104,110,124,155,195]},
  stats:[{l:'2024/25 Cost',v:'£124bn',c:'red'},{l:'Per Recipient/yr',v:'£9,764',c:'amber'},{l:'Triple Lock Cost',v:'+£5bn/yr avg',c:'red'},{l:'% of All Spending',v:'~10.3%',c:'red'},{l:'2040 Forecast',v:'~£195bn',c:'red'}]
};
IND.lifeexpect = {
  title:'Life Expectancy at Birth (UK)', sub:'ONS National Life Tables | Male / Female', color:'#00b8d9', unit:'yrs',
  recent:  {labels:['2015–17','2016–18','2017–19','2018–20','2019–21','2020–22'],values:[79.2,79.4,79.5,79.0,79.3,80.9]},
  trend2y: {labels:['2019–21','2020–22'],values:[79.3,80.9]},
  trend5y: {labels:['2015–17','2016–18','2017–19','2018–20','2019–21','2020–22'],values:[79.2,79.4,79.5,79.0,79.3,80.9]},
  trend10y:{labels:['1980–82','1990–92','2000–02','2005–07','2010–12','2015–17','2020–22'],values:[71.1,73.4,75.9,77.9,79.2,79.2,80.9]},
  stats:[{l:'Male Life Expect.',v:'80.9yrs',c:'blue'},{l:'Female Life Expect.',v:'84.9yrs',c:'blue'},{l:'State Pension Age',v:'66 (rising to 67)',c:'amber'},{l:'Healthy Life Expect.',v:'63.1 / 63.9yrs',c:'red'},{l:'Gap: Full LE vs Healthy',v:'17–21 yrs',c:'red'}]
};
IND.labourpart = {
  title:'Labour Force Participation — Older Workers (50–64)', sub:'% in employment or seeking work | ONS LFS | Critical pre-retirement cohort', color:'#ffa502', unit:'%',
  recent:  {labels:['2016','2017','2018','2019','2020','2021','2022','2023','2024'],values:[68.5,69.5,70.5,71.5,70.5,70.0,71.5,72.0,72.8]},
  trend2y: {labels:['2023','2024'],values:[72.0,72.8]},
  trend5y: {labels:['2019','2020','2021','2022','2023','2024'],values:[71.5,70.5,70.0,71.5,72.0,72.8]},
  trend10y:{labels:['2005','2008','2012','2015','2018','2021','2024'],values:[60.5,63.0,67.0,68.0,70.5,70.0,72.8]},
  stats:[{l:'Current Rate',v:'72.8%',c:'amber'},{l:'20yr Rise',v:'+12pp',c:'green'},{l:'Post-Covid Low',v:'70.0%',c:'amber'},{l:'Long-term Sick 50+',v:'~650k',c:'red'},{l:'Key Policy Target',v:'Keep 50s working',c:'amber'}]
};
// Pension forecast cards (all point to same dataset for expand)
IND.penfore2025 = { title:'Pensioner Population Forecast', sub:'ONS Principal Projection — state pension age recipients', color:'#ffa502', unit:'m', ...IND.pensioners };
IND.penfore2030 = IND.penfore2025;
IND.penfore2040 = IND.penfore2025;
IND.penfore2050 = IND.penfore2025;

// ============================================================
// DEMOGRAPHICS CHARTS (rendered on tab first-visit)
// ============================================================
let demoChartsRendered = false;

function renderDemoCharts() {
  if (demoChartsRendered) return;
  demoChartsRendered = true;

  // --- COHORT BAR CHART ---
  const cohortCtx = document.getElementById('chart-cohorts');
  if (cohortCtx) {
    new Chart(cohortCtx, {
      type: 'bar',
      data: {
        labels: ['Silent\n(1928–45)', 'Baby\nBoomers\n(1946–64)', 'Gen X\n(1965–80)', 'Millennials\n(1981–96)', 'Gen Z\n(1997–12)', 'Gen Alpha\n(2013+)'],
        datasets: [{
          data: [4.3, 13.4, 14.0, 15.0, 13.6, 9.2],
          backgroundColor: ['#4a5f75','#ff4757','#ffa502','#00b8d9','#00d084','#7c3aed'],
          borderColor:      ['#4a5f75','#ff4757','#ffa502','#00b8d9','#00d084','#7c3aed'],
          borderWidth: 1, borderRadius: 3
        }]
      },
      options: {
        ...CD,
        scales: {
          x: { ...CD.scales.x, ticks: { ...CD.scales.x.ticks, font: { size: 8 } } },
          y: { ...CD.scales.y, ticks: { ...CD.scales.y.ticks, callback: v => v + 'm' } }
        }
      }
    });
  }

  // --- COHORT CARDS ---
  const cohorts = [
    { name:'Baby Boomers', years:'1946–1964', n:'13.4m', age:'60–78', color:'#ff4757', note:'Retiring at ~800k/yr. Largest drain on state pension & NHS.' },
    { name:'Generation X', years:'1965–1980', n:'14.0m', age:'44–59', color:'#ffa502', note:'Peak earning / taxing cohort — currently bearing most fiscal burden.' },
    { name:'Millennials',  years:'1981–1996', n:'15.0m', age:'28–43', color:'#00b8d9', note:'Largest cohort. Facing housing crisis, student debt, pension shortfall.' },
    { name:'Generation Z', years:'1997–2012', n:'13.6m', age:'12–27', color:'#00d084', note:'Entering workforce. Fewer of them will support more pensioners.' },
  ];
  const cc = document.getElementById('cohort-cards');
  if (cc) {
    cc.innerHTML = `<div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">` +
      cohorts.map(c => `
        <div style="background:var(--card);border:1px solid var(--border);border-left:3px solid ${c.color};border-radius:4px;padding:10px">
          <div style="font-family:var(--mono);font-size:9px;letter-spacing:.12em;text-transform:uppercase;color:${c.color};margin-bottom:4px">${c.name}</div>
          <div style="font-family:var(--mono);font-size:20px;font-weight:600;color:var(--tp)">${c.n}</div>
          <div style="font-family:var(--mono);font-size:9px;color:var(--td);margin:2px 0">Born: ${c.years} · Ages: ${c.age}</div>
          <div style="font-family:var(--sans);font-size:10px;color:var(--ts);margin-top:5px;line-height:1.4">${c.note}</div>
        </div>`).join('') + `</div>`;
  }

  // --- WORKERS vs PENSIONERS CHART ---
  const wpCtx = document.getElementById('chart-worker-pensioner');
  if (wpCtx) {
    const labels = ['2000','2005','2010','2015','2020','2024','2028','2030','2035','2040','2045','2050'];
    const forecastStart = 6; // index where forecast begins (2028)
    const workers  = [38.5,38.8,39.2,39.8,40.2,40.8,40.5,40.0,39.5,38.8,38.0,37.2];
    const pensions = [11.8,11.9,12.0,12.0,12.3,12.7,13.5,14.5,15.5,16.8,18.0,19.2];

    new Chart(wpCtx, {
      type: 'line',
      data: {
        labels,
        datasets: [
          { label:'Working age (m)', data: workers,  borderColor:'#00d084', backgroundColor:'rgba(0,208,132,.08)', fill:true, borderWidth:2.5, tension:0.35, pointRadius:3, pointBackgroundColor:'#00d084' },
          { label:'Pensioners (m)',  data: pensions, borderColor:'#ff4757', backgroundColor:'rgba(255,71,87,.08)',  fill:true, borderWidth:2.5, tension:0.35, pointRadius:3, pointBackgroundColor:'#ff4757',
            segment: { borderDash: ctx => ctx.p0DataIndex >= forecastStart-1 ? [5,3] : [] } }
        ]
      },
      options: {
        ...CD,
        plugins: {
          ...CD.plugins,
          legend: { display: true, labels: { color:'#7a8fa6', font:{ family:"'IBM Plex Mono', monospace", size:10 }, boxWidth:20 } },
          annotation: {
            annotations: {
              forecastBox: {
                type:'box', xMin:'2028', xMax:'2050',
                backgroundColor:'rgba(255,71,87,.04)', borderColor:'rgba(255,71,87,.15)', borderWidth:1
              }
            }
          }
        },
        scales: {
          x: { ...CD.scales.x, ticks: { ...CD.scales.x.ticks, maxRotation:30 } },
          y: { ...CD.scales.y, min:0, max:45, ticks: { ...CD.scales.y.ticks, callback: v => v + 'm' } }
        }
      }
    });
  }

  // --- SCISSORS CHART ---
  const scissCtx = document.getElementById('chart-scissors');
  if (scissCtx) {
    const labels2 = ['2010','2012','2014','2016','2018','2020','2022','2024','2026','2028','2030','2035','2040'];
    const welfare  = [100, 104, 108, 114, 120, 130, 138, 152, 162, 175, 188, 215, 245];
    const workingpop = [100, 101, 102, 103, 104, 103, 103, 103, 102, 101, 100, 98, 96];
    new Chart(scissCtx, {
      type:'line',
      data: {
        labels: labels2,
        datasets: [
          { label:'Welfare + pension spend (idx)', data:welfare,     borderColor:'#ff4757', backgroundColor:'rgba(255,71,87,.06)',  fill:true, borderWidth:2.5, tension:0.3, pointRadius:3, pointBackgroundColor:'#ff4757', segment:{borderDash:ctx=>ctx.p0DataIndex>=7?[5,3]:[]}, pointBackgroundColor: labels2.map((_,i)=>i>=7?'rgba(255,71,87,.3)':'#ff4757') },
          { label:'Working-age pop. (idx)',        data:workingpop,  borderColor:'#00d084', backgroundColor:'rgba(0,208,132,.06)',   fill:true, borderWidth:2.5, tension:0.3, pointRadius:3, pointBackgroundColor:'#00d084', segment:{borderDash:ctx=>ctx.p0DataIndex>=7?[5,3]:[]}, pointBackgroundColor: labels2.map((_,i)=>i>=7?'rgba(0,208,132,.3)':'#00d084') }
        ]
      },
      options: {
        ...CD,
        plugins: { ...CD.plugins, legend:{ display:true, labels:{color:'#7a8fa6',font:{family:"'IBM Plex Mono',monospace",size:10},boxWidth:20} } },
        scales: { x:{...CD.scales.x}, y:{...CD.scales.y, min:85, ticks:{...CD.scales.y.ticks, callback:v=>v}} }
      }
    });
  }
}

// ============================================================
// POLITICS STATIC RENDERERS
// ============================================================
function renderPoliticsStatic() {
  // Regional breakdown
  const regions = [
    { name:'London',             control:'Labour',      color:'#e4003b', detail:'12/14 boroughs Labour-controlled. Most Reform-resistant region.' },
    { name:'Greater Manchester', control:'Labour',      color:'#e4003b', detail:'Andy Burnham Mayor. Labour stronghold but Reform gaining in towns.' },
    { name:'West Midlands',      control:'Conservative',color:'#0087dc', detail:'Richard Parker (Lab) Mayor since 2024. Council mix.' },
    { name:'Yorkshire',          control:'Mixed',       color:'#888',    detail:'Sheffield Labour, Leeds Labour, coastal/rural towns Reform-leaning.' },
    { name:'North East',         control:'Labour',      color:'#e4003b', detail:'Traditional Labour heartland. But Reform strong in coastal seats.' },
    { name:'South East',         control:'Conservative',color:'#0087dc', detail:'Lib Dems taking Con seats. Reform strong in Essex, Kent.' },
    { name:'East of England',    control:'Conservative',color:'#0087dc', detail:'Reform rising fast. Traditional Con territory fragmenting.' },
    { name:'South West',         control:'Lib Dems',    color:'#faa61a', detail:'LD surge 2024. Reform competitive in rural/coastal areas.' },
  ];
  const rb = document.getElementById('regional-breakdown');
  if (rb) rb.innerHTML = regions.map(r => `
    <div style="display:flex;align-items:center;gap:10px;padding:5px 8px;border-radius:3px;background:rgba(255,255,255,.02)">
      <div style="width:8px;height:8px;border-radius:1px;background:${r.color};flex-shrink:0"></div>
      <div style="font-family:var(--mono);font-size:9px;color:var(--ts);width:130px;flex-shrink:0">${r.name}</div>
      <div style="font-family:var(--mono);font-size:9px;color:${r.color};width:80px;flex-shrink:0">${r.control}</div>
      <div style="font-family:var(--sans);font-size:9px;color:var(--td);line-height:1.4">${r.detail}</div>
    </div>`).join('');

  // London bubble comparison
  const bubble = [
    { label:'Labour',      london:43, rest:22, col:'#e4003b' },
    { label:'Reform UK',   london:9,  rest:29, col:'#12b6cf' },
    { label:'Conservative',london:13, rest:22, col:'#0087dc' },
    { label:'Lib Dems',    london:15, rest:11, col:'#faa61a' },
    { label:'Green',       london:12, rest:6,  col:'#78b943' },
  ];
  const lb = document.getElementById('london-bubble');
  if (lb) lb.innerHTML = bubble.map(b => `
    <div style="display:grid;grid-template-columns:90px 1fr 1fr;gap:8px;align-items:center">
      <div style="font-family:var(--mono);font-size:9px;color:${b.col}">${b.label}</div>
      <div style="display:flex;flex-direction:column;gap:2px">
        <div style="font-family:var(--mono);font-size:8px;color:var(--td)">London ${b.london}%</div>
        <div style="height:10px;background:${b.col}99;border-radius:2px;width:${b.london*1.5}px"></div>
      </div>
      <div style="display:flex;flex-direction:column;gap:2px">
        <div style="font-family:var(--mono);font-size:8px;color:var(--td)">Rest of England ${b.rest}%</div>
        <div style="height:10px;background:${b.col}66;border-radius:2px;width:${b.rest*1.5}px;border:1px dashed ${b.col}55"></div>
      </div>
    </div>`).join('');

  // Top issues bars
  const issues = [
    { issue:'Immigration & Asylum',     pct:55, col:'#ff4757',  note:'#1 concern — up 18pp since 2022' },
    { issue:'Cost of Living / Inflation',pct:52, col:'#ffa502',  note:'Closely linked to mortgage/rent squeeze' },
    { issue:'NHS & Healthcare',          pct:48, col:'#00b8d9',  note:'Wait times, A&E — structural underfunding' },
    { issue:'Economy & Jobs',            pct:36, col:'#ffa502',  note:'Low growth narrative taking hold' },
    { issue:'Crime & Policing',          pct:28, col:'#ff4757',  note:'Knife crime, town centre decline' },
    { issue:'Housing Affordability',     pct:27, col:'#ff4757',  note:'Home ownership out of reach for under-40s' },
    { issue:'National Debt / Spending',  pct:22, col:'#ffa502',  note:'Growing fiscal awareness post-mini-budget' },
    { issue:'Climate & Energy',          pct:18, col:'#00d084',  note:'Split by age — low for over-50s' },
  ];
  const ib = document.getElementById('issues-bars');
  if (ib) ib.innerHTML = issues.map((is, i) => `
    <div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px">
        <div style="display:flex;align-items:center;gap:8px">
          <div style="font-family:var(--mono);font-size:9px;color:var(--td);width:14px">${i+1}.</div>
          <div style="font-family:var(--mono);font-size:10px;color:var(--tp)">${is.issue}</div>
        </div>
        <div style="display:flex;align-items:center;gap:12px">
          <div style="font-family:var(--sans);font-size:9px;color:var(--td)">${is.note}</div>
          <div style="font-family:var(--mono);font-size:11px;font-weight:600;color:${is.col};width:36px;text-align:right">${is.pct}%</div>
        </div>
      </div>
      <div style="height:8px;background:var(--border);border-radius:4px;overflow:hidden">
        <div style="height:100%;width:${is.pct}%;background:${is.col};border-radius:4px;transition:width .8s ease"></div>
      </div>
    </div>`).join('');
}

// ============================================================
// PATCH INTO switchTab TO TRIGGER LAZY RENDERS
// ============================================================
// Override switchTab to trigger lazy renders on tab visit
const _origSwitchTab = switchTab;
switchTab = function(id, el) {
  _origSwitchTab(id, el);
  if (id === 'demographics') renderDemoCharts();
  if (id === 'politics') renderPoliticsStatic();
  if (id === 'economic') setTimeout(renderLendingDonut, 100);
};

// Also render lending donut on Economic tab visit
let lendingChartRendered = false;
function renderLendingDonut() {
  if (lendingChartRendered) return;
  lendingChartRendered = true;
  const ctx = document.getElementById('chart-lending-donut');
  if (!ctx) return;
  const data = [16.6, 54.1, 23.9, 4.6, 0.8];
  const labels = ['Non-fin. Business\n(Productive)', 'Residential\nMortgages', 'Financial / Insurance\n/ Real Estate', 'Consumer\nCredit', 'Other'];
  const colors = ['#ffa502','#ff4757','#ff6b81','#ffcc80','#4a5f75'];
  new Chart(ctx, {
    type:'doughnut',
    data: { labels, datasets:[{ data, backgroundColor:colors, borderColor:'#131820', borderWidth:3, hoverOffset:6 }] },
    options: { responsive:true, maintainAspectRatio:false, cutout:'65%',
      plugins: { legend:{display:false}, tooltip:{...CD.plugins.tooltip,callbacks:{label:ctx=>' '+ctx.label.replace('\n',' ')+': '+ctx.parsed+'%'}} } }
  });
  const legend = document.getElementById('lending-legend');
  if (legend) legend.innerHTML = labels.map((l,i)=>`<div style="display:flex;align-items:center;gap:6px"><div style="width:8px;height:8px;border-radius:2px;background:${colors[i]};flex-shrink:0"></div><span style="font-family:var(--mono);font-size:8px;color:var(--ts)">${l.replace('\n',' ')}: <strong style="color:var(--tp)">${data[i]}%</strong></span></div>`).join('');
}

const _origExpandForLending = expand;
// Patch: render lending donut whenever economic tab is activated
document.querySelectorAll('.tab').forEach(t => {
  const orig = t.getAttribute('onclick');
  if (orig && orig.includes('economic')) {
    t.addEventListener('click', () => setTimeout(renderLendingDonut, 100));
  }
});
// Also render on page load if economic tab is default
// (it's not, but render on first expand interaction)
document.addEventListener('DOMContentLoaded', () => {
  setTimeout(renderLendingDonut, 500);
  renderPoliticsStatic();
});

// ============================================================
// INIT
// ============================================================
async function init() {
  const dot=document.getElementById('live-dot'), st=document.getElementById('live-status');
  loadStatic();
  await Promise.allSettled([loadCPI(), loadUnemployment(), loadGDP(), loadFiscal(), loadNEET(), loadConsumerCredit(), loadHouseholdDebt()]);
  dot.className='live-dot'; st.textContent='LIVE';
  document.getElementById('last-updated').textContent='Updated: '+new Date().toLocaleString('en-GB',{day:'2-digit',month:'short',year:'numeric',hour:'2-digit',minute:'2-digit'});
  injectRefreshedBadges();
}
window.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
